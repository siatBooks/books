{
    "sourceFile": "src/ViewMainTest2.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1743647848435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1743647915127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,447 +0,0 @@\n-import java.util.*;\r\n-import java.util.stream.Collectors;\r\n-\r\n-public class ViewMainTest2 {\r\n-    private static final Random random = new Random();\r\n-    private static final String BORDER = \"âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦\";\r\n-    private static final String SUB_BORDER = \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\";\r\n-\r\n-    // ë„ì„œ ì •ë³´ í´ë˜ìŠ¤\r\n-    static class Book {\r\n-        String id;\r\n-        String title;\r\n-        String author;\r\n-        int basePrice;\r\n-        String type;\r\n-        String condition;\r\n-        String publicationDate;  // ì¶”ê°€ëœ í•„ë“œ\r\n-        Integer reviewRank;      // ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì „ìš© í•„ë“œ\r\n-\r\n-        public Book(String id, String title, String author, int basePrice, \r\n-                   String type, String condition, String publicationDate, Integer reviewRank) {\r\n-            this.id = id;\r\n-            this.title = title;\r\n-            this.author = author;\r\n-            this.basePrice = basePrice;\r\n-            this.type = type;\r\n-            this.condition = condition;\r\n-            this.publicationDate = publicationDate;\r\n-            this.reviewRank = reviewRank;\r\n-        }\r\n-\r\n-        public int getPrice() {\r\n-            return switch(condition) {\r\n-                case \"ìƒ\" -> (int)(basePrice * 0.7);\r\n-                case \"ì¤‘\" -> (int)(basePrice * 0.5);\r\n-                case \"í•˜\" -> (int)(basePrice * 0.3);\r\n-                default -> basePrice;\r\n-            };\r\n-        }\r\n-    }\r\n-\r\n-    // ê°œì„ ëœ Mock ë°ì´í„°ë² ì´ìŠ¤\r\n-    static class MockDB {\r\n-        private static final List<Book> masterBooks = Arrays.asList(\r\n-            // ë² ìŠ¤íŠ¸ì…€ëŸ¬ (ë¦¬ë·° ìˆœìœ„ í¬í•¨)\r\n-            new Book(\"B001\", \"Java Master\", \"í™ê¸¸ë™\", 35000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"new\", \"2025-01-15\", 1),\r\n-            new Book(\"B002\", \"Effective Java\", \"Joshua Bloch\", 45000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ìƒ\", \"2024-12-01\", 2),\r\n-            new Book(\"B002-1\", \"Effective Java\", \"Joshua Bloch\", 45000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ì¤‘\", \"2024-12-01\", 2),\r\n-            \r\n-            // ì‹ ê°„ ë„ì„œ\r\n-            new Book(\"B003\", \"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\", \"new\", \"2025-03-20\", null),\r\n-            new Book(\"B003-1\", \"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\", \"ìƒ\", \"2025-03-20\", null),\r\n-            \r\n-            // ì¤‘ê³  ë„ì„œ\r\n-            new Book(\"B004\", \"React for Beginners\", \"Dan Abramov\", 35000, \"ì „ì²´\", \"í•˜\", \"2023-05-11\", null),\r\n-            new Book(\"B005\", \"Python AI\", \"ì¥ì˜ì‹¤\", 28000, \"ì „ì²´\", \"new\", \"2025-02-28\", null),\r\n-            new Book(\"B006\", \"Clean Code\", \"Robert C. Martin\", 40000, \"ì „ì²´\", \"ìƒ\", \"2024-10-01\", null),\r\n-            new Book(\"B007\", \"ë””ìì¸ íŒ¨í„´ì˜ ì •ì„\", \"GoF\", 50000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ì¤‘\", \"2023-07-22\", 3)\r\n-        );\r\n-\r\n-        private static List<Book> availableBooks = new ArrayList<>(masterBooks);\r\n-\r\n-        static List<Book> getBooks(String searchType) {\r\n-            return availableBooks.stream()\r\n-                .filter(book -> searchType.equals(\"ì „ì²´\") || book.type.equals(searchType))\r\n-                .collect(Collectors.toList());\r\n-        }\r\n-\r\n-        static void removeBook(String bookId) {\r\n-            availableBooks.removeIf(book -> book.id.equals(bookId));\r\n-        }\r\n-    }\r\n-\r\n-    // ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ í´ë˜ìŠ¤\r\n-    static class CartItem {\r\n-        Book book;\r\n-        int quantity;\r\n-\r\n-        public CartItem(Book book, int quantity) {\r\n-            this.book = book;\r\n-            this.quantity = quantity;\r\n-        }\r\n-\r\n-        public int getTotalPrice() {\r\n-            return book.getPrice() * quantity;\r\n-        }\r\n-    }\r\n-\r\n-    // ì¥ë°”êµ¬ë‹ˆ DB\r\n-    static class MockCartDB {\r\n-        private static List<CartItem> cart = new ArrayList<>();\r\n-\r\n-        static void addItem(Book book, int quantity) {\r\n-            cart.add(new CartItem(book, quantity));\r\n-        }\r\n-\r\n-        static List<CartItem> getCart() {\r\n-            return new ArrayList<>(cart);\r\n-        }\r\n-\r\n-        static void clearCart() {\r\n-            cart.clear();\r\n-        }\r\n-    }\r\n-\r\n-    // ë…ì„œ í†µê³„ ë©”ì‹œì§€\r\n-    private static final String[] PURCHASE_MESSAGES = { /* ì´ì „ê³¼ ë™ì¼ */ };\r\n-\r\n-    // ì‹œìŠ¤í…œ ë©”ì¸ íë¦„\r\n-    public static void main(String[] args) {\r\n-        Scanner scanner = new Scanner(System.in);\r\n-        clearScreen();\r\n-        \r\n-        printHeader(\"ì˜¨ë¼ì¸ ì„œì  ì‹œìŠ¤í…œ\");\r\n-        printSection(\"ë¡œê·¸ì¸\");\r\n-        System.out.print(\"â”œâ”€ ì„±ëª…: \");\r\n-        scanner.nextLine();\r\n-        System.out.print(\"â”œâ”€ ë¹„ë°€ë²ˆí˜¸: \");\r\n-        scanner.nextLine();\r\n-        \r\n-        home(scanner);\r\n-    }\r\n-\r\n-    private static void home(Scanner scanner) {\r\n-        while(true) {\r\n-            clearScreen();\r\n-            printHeader(\"ë©”ì¸ ë©”ë‰´\");\r\n-            printMenu(new String[]{\r\n-                \"1. ë„ì„œ ê²€ìƒ‰\", \r\n-                \"2. íšŒì› ì •ë³´\", \r\n-                \"3. ì£¼ë¬¸ ì´ë ¥\", \r\n-                \"4. ì¥ë°”êµ¬ë‹ˆ\",\r\n-                \"99. ì¢…ë£Œ\"\r\n-            });\r\n-            \r\n-            try {\r\n-                System.out.print(\"\\nâ–¶ ë©”ë‰´ ì„ íƒ: \");\r\n-                switch(scanner.nextInt()) {\r\n-                    case 1: searchFlow(scanner); break;\r\n-                    case 2: userFlow(scanner); break;\r\n-                    case 3: orderFlow(scanner); break;\r\n-                    case 4: cartFlow(scanner); break;\r\n-                    case 99: exit(scanner); break;\r\n-                    default: errorMsg(\"ì˜ëª»ëœ ì…ë ¥\");\r\n-                }\r\n-            } catch (Exception e) {\r\n-                errorHandler(scanner, e);\r\n-            }\r\n-        }\r\n-    }\r\n-\r\n-    // ë„ì„œ ê²€ìƒ‰ ë° ì •ë ¬ ì‹œìŠ¤í…œ\r\n-    private static void searchFlow(Scanner scanner) {\r\n-        while(true) {\r\n-            clearScreen();\r\n-            printHeader(\"ë„ì„œ ê²€ìƒ‰ ì‹œìŠ¤í…œ\");\r\n-            printMenu(new String[]{\r\n-                \"1. ë² ìŠ¤íŠ¸ì…€ëŸ¬ ê²€ìƒ‰\",\r\n-                \"2. ì‹ ê°„ ë„ì„œ ê²€ìƒ‰\", \r\n-                \"3. ì „ì²´ ê²€ìƒ‰\",\r\n-                \"0. í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\",\r\n-                \"99. ì‹œìŠ¤í…œ ì¢…ë£Œ\"\r\n-            });\r\n-\r\n-            int choice = getValidNumber(scanner, 0, 99);\r\n-            if(choice == 0) return;\r\n-            if(choice == 99) exit(scanner);\r\n-            \r\n-            String searchType = switch(choice) {\r\n-                case 1 -> \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\";\r\n-                case 2 -> \"ì‹ ê°„\";\r\n-                case 3 -> \"ì „ì²´\";\r\n-                default -> \"\";\r\n-            };\r\n-\r\n-            System.out.print(\"\\nğŸ” ê²€ìƒ‰ì–´ ì…ë ¥: \");\r\n-            String keyword = scanner.next();\r\n-            \r\n-            List<Book> results = MockDB.getBooks(searchType).stream()\r\n-                .filter(book -> book.title.contains(keyword))\r\n-                .collect(Collectors.toList());\r\n-                \r\n-            handleSearchResults(results, searchType, keyword, scanner);\r\n-        }\r\n-    }\r\n-\r\n-    private static void handleSearchResults(List<Book> books, String type, String keyword, Scanner scanner) {\r\n-        clearScreen();\r\n-        printHeader(\"'\" + keyword + \"' ê²€ìƒ‰ ê²°ê³¼ (\" + type + \")\");\r\n-\r\n-        if(books.isEmpty()) {\r\n-            System.out.println(\"\\nâš  ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤\");\r\n-            pause(scanner);\r\n-            return;\r\n-        }\r\n-\r\n-        // ì •ë ¬ ì˜µì…˜ í‘œì‹œ\r\n-        System.out.println(\"\\n[ì •ë ¬ ì˜µì…˜]\");\r\n-        List<String> sortOptions = new ArrayList<>(Arrays.asList(\r\n-            \"1. ê°€ê²© ë‚®ì€ ìˆœ\", \r\n-            \"2. ê°€ê²© ë†’ì€ ìˆœ\", \r\n-            \"3. ì¶œíŒì¼ ìµœì‹ ìˆœ\"\r\n-        ));\r\n-        \r\n-        if(type.equals(\"ë² ìŠ¤íŠ¸ì…€ëŸ¬\")) {\r\n-            sortOptions.add(\"4. ë¦¬ë·° ìˆœìœ„ ìˆœ\");\r\n-        }\r\n-        sortOptions.add(\"0. ê¸°ë³¸ ì •ë ¬(ê°€ë‚˜ë‹¤ìˆœ)\");\r\n-        printMenu(sortOptions);\r\n-\r\n-        int sortChoice = getValidNumber(scanner, 0, sortOptions.size());\r\n-        sortBooks(books, sortChoice, type);\r\n-\r\n-        displayBooks(books);\r\n-        handleBookSelection(books, scanner);\r\n-    }\r\n-\r\n-    private static void sortBooks(List<Book> books, int sortChoice, String type) {\r\n-        switch(sortChoice) {\r\n-            case 1:\r\n-                books.sort(Comparator.comparingInt(Book::getPrice));\r\n-                break;\r\n-            case 2:\r\n-                books.sort((b1, b2) -> b2.getPrice() - b1.getPrice());\r\n-                break;\r\n-            case 3:\r\n-                books.sort((b1, b2) -> b2.publicationDate.compareTo(b1.publicationDate));\r\n-                break;\r\n-            case 4:\r\n-                if(type.equals(\"ë² ìŠ¤íŠ¸ì…€ëŸ¬\")) {\r\n-                    books.sort(Comparator.comparingInt(b -> b.reviewRank));\r\n-                }\r\n-                break;\r\n-            default:\r\n-                books.sort(Comparator.comparing(b -> b.title));\r\n-        }\r\n-    }\r\n-\r\n-    private static void displayBooks(List<Book> books) {\r\n-        int index = 1;\r\n-        for(Book book : books) {\r\n-            System.out.printf(\"\\n%d. %s\\n\", index++, book.title);\r\n-            System.out.printf(\"â”œâ”€ ID: %s\\n\", book.id);\r\n-            System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", book.author);\r\n-            System.out.printf(\"â”œâ”€ ê°€ê²©: %,dì›\\n\", book.getPrice());\r\n-            System.out.printf(\"â”œâ”€ ìƒíƒœ: %s\\n\", getConditionText(book.condition));\r\n-            System.out.printf(\"â”œâ”€ ì¶œíŒì¼: %s\\n\", book.publicationDate);\r\n-            if(book.reviewRank != null) {\r\n-                System.out.printf(\"â””â”€ ë¦¬ë·° ìˆœìœ„: %dìœ„\\n\", book.reviewRank);\r\n-            }\r\n-            System.out.println(SUB_BORDER);\r\n-        }\r\n-    }\r\n-\r\n-    private static String getConditionText(String condition) {\r\n-        return switch(condition) {\r\n-            case \"new\" -> \"ì‹ ìƒí’ˆ\";\r\n-            case \"ìƒ\" -> \"ì¤‘ê³ -ìƒ\";\r\n-            case \"ì¤‘\" -> \"ì¤‘ê³ -ì¤‘\";\r\n-            case \"í•˜\" -> \"ì¤‘ê³ -í•˜\";\r\n-            default -> \"ì•Œ ìˆ˜ ì—†ìŒ\";\r\n-        };\r\n-    }\r\n-\r\n-    private static void handleBookSelection(List<Book> books, Scanner scanner) {\r\n-        System.out.print(\"\\nâ–¶ ìƒì„¸ë³´ê¸° í•  ë„ì„œ ë²ˆí˜¸ (0: ë’¤ë¡œê°€ê¸°): \");\r\n-        int choice = getValidNumber(scanner, 0, books.size());\r\n-        \r\n-        if(choice != 0) {\r\n-            Book selected = books.get(choice-1);\r\n-            showBookDetail(selected, scanner);\r\n-        }\r\n-    }\r\n-\r\n-    private static void showBookDetail(Book book, Scanner scanner) {\r\n-        clearScreen();\r\n-        printHeader(\"[ìƒì„¸ ì •ë³´] \" + book.title);\r\n-        System.out.printf(\"â”œâ”€ ISBN: %s\\n\", book.id);\r\n-        System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", book.author);\r\n-        System.out.printf(\"â”œâ”€ ì •ê°€: %,dì›\\n\", book.basePrice);\r\n-        System.out.printf(\"â”œâ”€ íŒë§¤ê°€: %,dì›\\n\", book.getPrice());\r\n-        System.out.printf(\"â”œâ”€ ìƒíƒœ: %s\\n\", getConditionText(book.condition));\r\n-        System.out.printf(\"â”œâ”€ ì¶œíŒì¼: %s\\n\", book.publicationDate);\r\n-        if(book.reviewRank != null) {\r\n-            System.out.printf(\"â”œâ”€ ë¦¬ë·° ìˆœìœ„: %dìœ„\\n\", book.reviewRank);\r\n-        }\r\n-        System.out.println(SUB_BORDER);\r\n-\r\n-        printMenu(new String[]{\r\n-            \"1. ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€\", \r\n-            \"2. ë°”ë¡œêµ¬ë§¤\", \r\n-            \"0. ëŒì•„ê°€ê¸°\"\r\n-        });\r\n-        \r\n-        handlePurchaseChoice(book, scanner);\r\n-    }\r\n-\r\n-    private static void handlePurchaseChoice(Book book, Scanner scanner) {\r\n-        int choice = getValidNumber(scanner, 0, 2);\r\n-        switch(choice) {\r\n-            case 1:\r\n-                handleAddToCart(book, scanner);\r\n-                break;\r\n-            case 2:\r\n-                processPurchase(book, scanner);\r\n-                break;\r\n-        }\r\n-    }\r\n-\r\n-    private static void handleAddToCart(Book book, Scanner scanner) {\r\n-        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n-        int quantity = getValidNumber(scanner, 1, 10);\r\n-        MockCartDB.addItem(book, quantity);\r\n-        System.out.printf(\"\\nâœ… %s %dê¶Œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!\\n\", book.title, quantity);\r\n-        pause(scanner);\r\n-    }\r\n-\r\n-    private static void processPurchase(Book book, Scanner scanner) {\r\n-        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n-        int quantity = getValidNumber(scanner, 1, 10);\r\n-        \r\n-        System.out.println(\"\\n================ ê²°ì œ ì •ë³´ ================\");\r\n-        System.out.printf(\"ë„ì„œëª…: %s\\n\", book.title);\r\n-        System.out.printf(\"ìˆ˜ëŸ‰: %dê¶Œ\\n\", quantity);\r\n-        System.out.printf(\"ê²°ì œê¸ˆì•¡: %,dì›\\n\", book.getPrice() * quantity);\r\n-        System.out.println(\"-----------------------------------------\");\r\n-        System.out.println(\"1. ì‹ ìš©ì¹´ë“œ ê²°ì œ | 2. ê³„ì¢Œì´ì²´ | 0. ì·¨ì†Œ\");\r\n-        \r\n-        int paymentType = getValidNumber(scanner, 0, 2);\r\n-        if(paymentType != 0) {\r\n-            System.out.println(\"âœ… ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\");\r\n-            MockDB.removeBook(book.id);\r\n-            System.out.println(\"ğŸ“Š \" + getRandomMessage(PURCHASE_MESSAGES));\r\n-        }\r\n-        pause(scanner);\r\n-    }\r\n-\r\n-    // ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ\r\n-    private static void cartFlow(Scanner scanner) {\r\n-        while(true) {\r\n-            clearScreen();\r\n-            printHeader(\"ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬\");\r\n-            List<CartItem> cart = MockCartDB.getCart();\r\n-            \r\n-            if(cart.isEmpty()) {\r\n-                System.out.println(\"\\nğŸ›’ ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤\");\r\n-                pause(scanner);\r\n-                return;\r\n-            }\r\n-\r\n-            cart.forEach(item -> {\r\n-                System.out.printf(\"\\nğŸ“˜ %s\\n\", item.book.title);\r\n-                System.out.printf(\"â”œâ”€ ìˆ˜ëŸ‰: %dê°œ\\n\", item.quantity);\r\n-                System.out.printf(\"â”œâ”€ ë‹¨ê°€: %,dì›\\n\", item.book.getPrice());\r\n-                System.out.printf(\"â””â”€ ì†Œê³„: %,dì›\\n\", item.getTotalPrice());\r\n-                System.out.println(SUB_BORDER);\r\n-            });\r\n-\r\n-            printMenu(new String[]{\r\n-                \"1. ì „ì²´ êµ¬ë§¤\", \r\n-                \"2. ìˆ˜ëŸ‰ ë³€ê²½\", \r\n-                \"3. ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°\",\r\n-                \"0. ë’¤ë¡œê°€ê¸°\"\r\n-            });\r\n-            \r\n-            handleCartAction(scanner);\r\n-        }\r\n-    }\r\n-\r\n-    private static void handleCartAction(Scanner scanner) {\r\n-        int choice = getValidNumber(scanner, 0, 3);\r\n-        switch(choice) {\r\n-            case 1:\r\n-                processBulkPurchase(scanner);\r\n-                break;\r\n-            case 2:\r\n-                modifyQuantity(scanner);\r\n-                break;\r\n-            case 3:\r\n-                MockCartDB.clearCart();\r\n-                System.out.println(\"\\nâœ… ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì› ìŠµë‹ˆë‹¤\");\r\n-                pause(scanner);\r\n-                break;\r\n-            case 0:\r\n-                return;\r\n-        }\r\n-    }\r\n-\r\n-    // ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë“¤ (ì•ì„  ì½”ë“œì™€ ë™ì¼)\r\n-    // ...// í—¤ë” ì¶œë ¥\r\n-    private static void printHeader(String title) {\r\n-        System.out.println(\"====================\" + \"=\".repeat(title.length()*2));\r\n-        System.out.println(\"= \" + title + \" =\");\r\n-        System.out.println(\"====================\" + \"=\".repeat(title.length()*2));\r\n-    }\r\n-\r\n-    // ë©”ë‰´ ì¶œë ¥\r\n-    private static void printMenu(String[] items) {\r\n-        System.out.println(\"\\n---------------------\");\r\n-        for (int i = 0; i < items.length; i++) {\r\n-            System.out.printf(\"%2d. %s\\n\", i+1, items[i]);\r\n-        }\r\n-        System.out.println(\"---------------------\");\r\n-    }\r\n-\r\n-    // í™”ë©´ í´ë¦¬ì–´\r\n-    private static void clearScreen() {\r\n-        for (int i = 0; i < 50; i++) {\r\n-            System.out.println();\r\n-        }\r\n-    }\r\n-\r\n-    // ì¼ì‹œ ì •ì§€\r\n-    private static void pause(Scanner scanner) {\r\n-        System.out.print(\"\\nê³„ì†í•˜ë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”...\");\r\n-        scanner.nextLine();\r\n-    }\r\n-\r\n-    // ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥\r\n-    private static void errorMsg(String message) {\r\n-        System.out.println(\"\\n[!] \" + message);\r\n-    }\r\n-\r\n-    // ì‹œìŠ¤í…œ ì¢…ë£Œ\r\n-    private static void exit(Scanner scanner) {\r\n-        System.out.println(\"\\nì‹œìŠ¤í…œì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\");\r\n-        scanner.close();\r\n-        System.exit(0);\r\n-    }\r\n-\r\n-    // ê²€ìƒ‰ íƒ€ì… ë³€í™˜\r\n-    private static String getSearchType(int typeCode) {\r\n-        return switch (typeCode) {\r\n-            case 1 -> \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\";\r\n-            case 2 -> \"ì‹ ê°„\";\r\n-            case 3 -> \"ì „ì²´\";\r\n-            default -> \"\";\r\n-        };\r\n-}\r\n-\r\n-// ì˜ˆì™¸ ì²˜ë¦¬ í•¸ë“¤ëŸ¬\r\n-private static void errorHandler(Exception e) {\r\n-    System.out.println(\"\\n[ì‹œìŠ¤í…œ ì˜¤ë¥˜] \" + e.getMessage());\r\n-    System.out.println(\"ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\r\n-}\r\n-\r\n-}\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1743647927293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,235 @@\n+import java.util.Scanner;\r\n+import java.util.Random;\r\n+\r\n+public class ViewMainTest2 {\r\n+    private static final Random random = new Random();\r\n+    private static final String BORDER = \"âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§\";\r\n+    private static final String SUB_BORDER = \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\";\r\n+\r\n+    // ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ìœ„í•œ í…œí”Œë¦¿ (ì¶”í›„ êµ¬í˜„)\r\n+    static class Book {\r\n+        String title;\r\n+        String author;\r\n+        int price;\r\n+        String type;\r\n+        \r\n+        public Book(String title, String author, int price, String type) {\r\n+            this.title = title;\r\n+            this.author = author;\r\n+            this.price = price;\r\n+            this.type = type;\r\n+        }\r\n+    }\r\n+\r\n+    static class MockDB {\r\n+        static Book[] getBooks(String searchType) {\r\n+            // ì‹¤ì œ DB ì—°ê²°ì‹œ ì´ ë¶€ë¶„ êµ¬í˜„\r\n+            return new Book[]{\r\n+                new Book(\"Java Master\", \"í™ê¸¸ë™\", 25000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\"),\r\n+                new Book(\"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\"),\r\n+                new Book(\"Python AI\", \"ì¥ì˜ì‹¤\", 28000, \"ì „ì²´\")\r\n+            };\r\n+        }\r\n+    }\r\n+\r\n+    // ë…ì„œ í†µê³„ ë©”ì‹œì§€\r\n+    private static final String[] STATS_MSG = {\r\n+        \"ğŸ“Š ì§€ê¸ˆê¹Œì§€ ì½ì€ í˜ì´ì§€: ì—ë² ë ˆìŠ¤íŠ¸ %.1fë°°\",\r\n+        \"â³ ë…ì„œ ì‹œê°„: ì„œìš¸â†’ë¶€ì‚° KTX %díšŒ ì™•ë³µ\",\r\n+        \"ğŸŒ³ ì „ìì±…ìœ¼ë¡œ ë‚˜ë¬´ %dê·¸ë£¨ êµ¬ì¶œ\"\r\n+    };\r\n+\r\n+    public static void main(String[] args) {\r\n+        Scanner scanner = new Scanner(System.in);\r\n+        clearScreen();\r\n+        \r\n+        printHeader(\"ì˜¨ë¼ì¸ ì„œì  ì‹œìŠ¤í…œ\");\r\n+        printSection(\"ë¡œê·¸ì¸\");\r\n+        System.out.print(\"â”œâ”€ ì„±ëª…: \");\r\n+        scanner.nextLine();\r\n+        System.out.print(\"â”œâ”€ ë¹„ë°€ë²ˆí˜¸: \");\r\n+        scanner.nextLine();\r\n+        \r\n+        home(scanner);\r\n+    }\r\n+\r\n+    private static void home(Scanner scanner) {\r\n+        while(true) {\r\n+            clearScreen();\r\n+            printHeader(\"ë©”ì¸ ë©”ë‰´\");\r\n+            printMenu(new String[]{\r\n+                \"1. ë„ì„œ ê²€ìƒ‰\", \r\n+                \"2. íšŒì› ì •ë³´\", \r\n+                \"3. ì£¼ë¬¸ ì´ë ¥\", \r\n+                \"4. ì¥ë°”êµ¬ë‹ˆ\",\r\n+                \"99. ì¢…ë£Œ\"\r\n+            });\r\n+            \r\n+            try {\r\n+                System.out.print(\"\\nâ–¶ ë©”ë‰´ ì„ íƒ: \");\r\n+                switch(scanner.nextInt()) {\r\n+                    case 1: searchFlow(scanner); break;\r\n+                    case 2: userFlow(scanner); break;\r\n+                    case 3: orderFlow(scanner); break;\r\n+                    case 4: cartFlow(scanner); break;\r\n+                    case 99: exit(scanner); break;\r\n+                    default: errorMsg(\"ì˜ëª»ëœ ì…ë ¥\");\r\n+                }\r\n+            } catch (Exception e) {\r\n+                errorHandler(scanner, e);\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    private static void searchFlow(Scanner scanner) {\r\n+        while(true) {\r\n+            clearScreen();\r\n+            printHeader(\"ë„ì„œ ê²€ìƒ‰\");\r\n+            printMenu(new String[]{\r\n+                \"1. ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \r\n+                \"2. ì‹ ê°„ ë„ì„œ\", \r\n+                \"3. ì „ì²´ ê²€ìƒ‰\",\r\n+                \"0. í™ˆìœ¼ë¡œ\",\r\n+                \"99. ì¢…ë£Œ\"\r\n+            });\r\n+\r\n+            System.out.print(\"\\nâ–¶ ê²€ìƒ‰ ìœ í˜•: \");\r\n+            int type = scanner.nextInt();\r\n+            scanner.nextLine();\r\n+            \r\n+            if(type == 0) return;\r\n+            if(type == 99) exit(scanner);\r\n+            \r\n+            System.out.print(\"\\nğŸ” ê²€ìƒ‰ì–´ ì…ë ¥: \");\r\n+            String keyword = scanner.nextLine();\r\n+            \r\n+            // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‹¤ì œ ê²€ìƒ‰\r\n+            Book[] results = MockDB.getBooks(getSearchType(type));\r\n+            displayResults(results, keyword, scanner);\r\n+        }\r\n+    }\r\n+\r\n+    private static void displayResults(Book[] books, String keyword, Scanner scanner) {\r\n+        clearScreen();\r\n+        printHeader(\"ê²€ìƒ‰ ê²°ê³¼\");\r\n+        System.out.printf(\"â”œâ”€ ê²€ìƒ‰ì–´: %s\\n\", keyword);\r\n+        System.out.println(SUB_BORDER);\r\n+        \r\n+        for(int i=0; i<books.length; i++) {\r\n+            System.out.printf(\"%d. %s\\n\", i+1, books[i].title);\r\n+            System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", books[i].author);\r\n+            System.out.printf(\"â”œâ”€ ê°€ê²©: %,dì›\\n\", books[i].price);\r\n+            System.out.println(SUB_BORDER);\r\n+        }\r\n+        \r\n+        printMenu(new String[]{\r\n+            \"1. ìƒì„¸ë³´ê¸°\", \r\n+            \"2. ì •ë ¬ ë³€ê²½\", \r\n+            \"0. ì´ì „ ë©”ë‰´\",\r\n+            \"99. ì¢…ë£Œ\"\r\n+        });\r\n+        \r\n+        handleResultAction(scanner, books);\r\n+    }\r\n+\r\n+    private static void handleResultAction(Scanner scanner, Book[] books) {\r\n+        System.out.print(\"\\nâ–¶ ì•¡ì…˜ ì„ íƒ: \");\r\n+        switch(scanner.nextInt()) {\r\n+            case 1: \r\n+                showDetail(scanner, books[0]); // ì‹¤ì œ êµ¬í˜„ì‹œ ì¸ë±ìŠ¤ ì²˜ë¦¬ í•„ìš”\r\n+                break;\r\n+            case 2: \r\n+                sortResults(scanner);\r\n+                break;\r\n+            case 0: return;\r\n+            case 99: exit(scanner);\r\n+            default: errorMsg(\"ì˜ëª»ëœ ì„ íƒ\");\r\n+        }\r\n+    }\r\n+\r\n+    private static void showDetail(Scanner scanner, Book book) {\r\n+        clearScreen();\r\n+        printHeader(\"ë„ì„œ ìƒì„¸\");\r\n+        System.out.printf(\"â”œâ”€ ì œëª©: %s\\n\", book.title);\r\n+        System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", book.author);\r\n+        System.out.printf(\"â”œâ”€ ê°€ê²©: %,dì›\\n\", book.price);\r\n+        System.out.println(SUB_BORDER);\r\n+        System.out.println(\"ğŸ“ˆ \" + getRandomStat());\r\n+        \r\n+        printMenu(new String[]{\r\n+            \"1. ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°\", \r\n+            \"2. ë°”ë¡œ êµ¬ë§¤\", \r\n+            \"0. ëŒì•„ê°€ê¸°\"\r\n+        });\r\n+        \r\n+        handlePurchase(scanner, book);\r\n+    }\r\n+\r\n+    private static void handlePurchase(Scanner scanner, Book book) {\r\n+        System.out.print(\"\\nâ–¶ ì„ íƒ: \");\r\n+        switch(scanner.nextInt()) {\r\n+            case 1: \r\n+                addToCart(scanner, book);\r\n+                break;\r\n+            case 2: \r\n+                processPayment(scanner, book);\r\n+                break;\r\n+            case 0: return;\r\n+        }\r\n+    }\r\n+\r\n+    private static void addToCart(Scanner scanner, Book book) {\r\n+        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n+        int qty = scanner.nextInt();\r\n+        System.out.printf(\"\\nâœ… %s %dê¶Œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€\\n\", book.title, qty);\r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    private static void processPayment(Scanner scanner, Book book) {\r\n+        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n+        int qty = scanner.nextInt();\r\n+        System.out.printf(\"\\nâœ… %s %dê¶Œ êµ¬ë§¤ ì™„ë£Œ\\n\", book.title, qty);\r\n+        System.out.println(\"ğŸ“Š \" + getRandomStat());\r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    // ê¸°íƒ€ ë©”ì„œë“œë“¤...\r\n+    \r\n+    private static String getRandomStat() {\r\n+        return STATS_MSG[random.nextInt(STATS_MSG.length)]\r\n+            .formatted(random.nextDouble()*10, random.nextInt(50)+1, random.nextInt(20)+1);\r\n+    }\r\n+\r\n+    private static void printHeader(String title) {\r\n+        System.out.println(BORDER);\r\n+        System.out.printf(\"âœ¦\\t%s\\n\", title);\r\n+        System.out.println(BORDER);\r\n+    }\r\n+\r\n+    private static void printMenu(String[] items) {\r\n+        System.out.println(\"\\n\" + SUB_BORDER);\r\n+        for(String item : items) {\r\n+            System.out.printf(\"â”‚ %s\\n\", item);\r\n+        }\r\n+        System.out.println(SUB_BORDER);\r\n+    }\r\n+\r\n+    private static void clearScreen() {\r\n+        System.out.print(\"\\033[H\\033[2J\");\r\n+        System.out.flush();\r\n+    }\r\n+\r\n+    private static void pause(Scanner scanner) {\r\n+        System.out.print(\"\\nê³„ì†í•˜ë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”...\");\r\n+        scanner.nextLine();\r\n+    }\r\n+\r\n+    private static void errorMsg(String msg) {\r\n+        System.out.println(\"\\nâš  \" + msg);\r\n+    }\r\n+\r\n+    private static void exit(Scanner scanner) {\r\n+        System.out.println(\"\\nâ¤ ì´ìš©í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\");\r\n+        System.exit(0);\r\n+    }\r\n+}\r\n"
                },
                {
                    "date": 1743655703192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,235 +0,0 @@\n-import java.util.Scanner;\r\n-import java.util.Random;\r\n-\r\n-public class ViewMainTest2 {\r\n-    private static final Random random = new Random();\r\n-    private static final String BORDER = \"âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§\";\r\n-    private static final String SUB_BORDER = \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\";\r\n-\r\n-    // ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ìœ„í•œ í…œí”Œë¦¿ (ì¶”í›„ êµ¬í˜„)\r\n-    static class Book {\r\n-        String title;\r\n-        String author;\r\n-        int price;\r\n-        String type;\r\n-        \r\n-        public Book(String title, String author, int price, String type) {\r\n-            this.title = title;\r\n-            this.author = author;\r\n-            this.price = price;\r\n-            this.type = type;\r\n-        }\r\n-    }\r\n-\r\n-    static class MockDB {\r\n-        static Book[] getBooks(String searchType) {\r\n-            // ì‹¤ì œ DB ì—°ê²°ì‹œ ì´ ë¶€ë¶„ êµ¬í˜„\r\n-            return new Book[]{\r\n-                new Book(\"Java Master\", \"í™ê¸¸ë™\", 25000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\"),\r\n-                new Book(\"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\"),\r\n-                new Book(\"Python AI\", \"ì¥ì˜ì‹¤\", 28000, \"ì „ì²´\")\r\n-            };\r\n-        }\r\n-    }\r\n-\r\n-    // ë…ì„œ í†µê³„ ë©”ì‹œì§€\r\n-    private static final String[] STATS_MSG = {\r\n-        \"ğŸ“Š ì§€ê¸ˆê¹Œì§€ ì½ì€ í˜ì´ì§€: ì—ë² ë ˆìŠ¤íŠ¸ %.1fë°°\",\r\n-        \"â³ ë…ì„œ ì‹œê°„: ì„œìš¸â†’ë¶€ì‚° KTX %díšŒ ì™•ë³µ\",\r\n-        \"ğŸŒ³ ì „ìì±…ìœ¼ë¡œ ë‚˜ë¬´ %dê·¸ë£¨ êµ¬ì¶œ\"\r\n-    };\r\n-\r\n-    public static void main(String[] args) {\r\n-        Scanner scanner = new Scanner(System.in);\r\n-        clearScreen();\r\n-        \r\n-        printHeader(\"ì˜¨ë¼ì¸ ì„œì  ì‹œìŠ¤í…œ\");\r\n-        printSection(\"ë¡œê·¸ì¸\");\r\n-        System.out.print(\"â”œâ”€ ì„±ëª…: \");\r\n-        scanner.nextLine();\r\n-        System.out.print(\"â”œâ”€ ë¹„ë°€ë²ˆí˜¸: \");\r\n-        scanner.nextLine();\r\n-        \r\n-        home(scanner);\r\n-    }\r\n-\r\n-    private static void home(Scanner scanner) {\r\n-        while(true) {\r\n-            clearScreen();\r\n-            printHeader(\"ë©”ì¸ ë©”ë‰´\");\r\n-            printMenu(new String[]{\r\n-                \"1. ë„ì„œ ê²€ìƒ‰\", \r\n-                \"2. íšŒì› ì •ë³´\", \r\n-                \"3. ì£¼ë¬¸ ì´ë ¥\", \r\n-                \"4. ì¥ë°”êµ¬ë‹ˆ\",\r\n-                \"99. ì¢…ë£Œ\"\r\n-            });\r\n-            \r\n-            try {\r\n-                System.out.print(\"\\nâ–¶ ë©”ë‰´ ì„ íƒ: \");\r\n-                switch(scanner.nextInt()) {\r\n-                    case 1: searchFlow(scanner); break;\r\n-                    case 2: userFlow(scanner); break;\r\n-                    case 3: orderFlow(scanner); break;\r\n-                    case 4: cartFlow(scanner); break;\r\n-                    case 99: exit(scanner); break;\r\n-                    default: errorMsg(\"ì˜ëª»ëœ ì…ë ¥\");\r\n-                }\r\n-            } catch (Exception e) {\r\n-                errorHandler(scanner, e);\r\n-            }\r\n-        }\r\n-    }\r\n-\r\n-    private static void searchFlow(Scanner scanner) {\r\n-        while(true) {\r\n-            clearScreen();\r\n-            printHeader(\"ë„ì„œ ê²€ìƒ‰\");\r\n-            printMenu(new String[]{\r\n-                \"1. ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \r\n-                \"2. ì‹ ê°„ ë„ì„œ\", \r\n-                \"3. ì „ì²´ ê²€ìƒ‰\",\r\n-                \"0. í™ˆìœ¼ë¡œ\",\r\n-                \"99. ì¢…ë£Œ\"\r\n-            });\r\n-\r\n-            System.out.print(\"\\nâ–¶ ê²€ìƒ‰ ìœ í˜•: \");\r\n-            int type = scanner.nextInt();\r\n-            scanner.nextLine();\r\n-            \r\n-            if(type == 0) return;\r\n-            if(type == 99) exit(scanner);\r\n-            \r\n-            System.out.print(\"\\nğŸ” ê²€ìƒ‰ì–´ ì…ë ¥: \");\r\n-            String keyword = scanner.nextLine();\r\n-            \r\n-            // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‹¤ì œ ê²€ìƒ‰\r\n-            Book[] results = MockDB.getBooks(getSearchType(type));\r\n-            displayResults(results, keyword, scanner);\r\n-        }\r\n-    }\r\n-\r\n-    private static void displayResults(Book[] books, String keyword, Scanner scanner) {\r\n-        clearScreen();\r\n-        printHeader(\"ê²€ìƒ‰ ê²°ê³¼\");\r\n-        System.out.printf(\"â”œâ”€ ê²€ìƒ‰ì–´: %s\\n\", keyword);\r\n-        System.out.println(SUB_BORDER);\r\n-        \r\n-        for(int i=0; i<books.length; i++) {\r\n-            System.out.printf(\"%d. %s\\n\", i+1, books[i].title);\r\n-            System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", books[i].author);\r\n-            System.out.printf(\"â”œâ”€ ê°€ê²©: %,dì›\\n\", books[i].price);\r\n-            System.out.println(SUB_BORDER);\r\n-        }\r\n-        \r\n-        printMenu(new String[]{\r\n-            \"1. ìƒì„¸ë³´ê¸°\", \r\n-            \"2. ì •ë ¬ ë³€ê²½\", \r\n-            \"0. ì´ì „ ë©”ë‰´\",\r\n-            \"99. ì¢…ë£Œ\"\r\n-        });\r\n-        \r\n-        handleResultAction(scanner, books);\r\n-    }\r\n-\r\n-    private static void handleResultAction(Scanner scanner, Book[] books) {\r\n-        System.out.print(\"\\nâ–¶ ì•¡ì…˜ ì„ íƒ: \");\r\n-        switch(scanner.nextInt()) {\r\n-            case 1: \r\n-                showDetail(scanner, books[0]); // ì‹¤ì œ êµ¬í˜„ì‹œ ì¸ë±ìŠ¤ ì²˜ë¦¬ í•„ìš”\r\n-                break;\r\n-            case 2: \r\n-                sortResults(scanner);\r\n-                break;\r\n-            case 0: return;\r\n-            case 99: exit(scanner);\r\n-            default: errorMsg(\"ì˜ëª»ëœ ì„ íƒ\");\r\n-        }\r\n-    }\r\n-\r\n-    private static void showDetail(Scanner scanner, Book book) {\r\n-        clearScreen();\r\n-        printHeader(\"ë„ì„œ ìƒì„¸\");\r\n-        System.out.printf(\"â”œâ”€ ì œëª©: %s\\n\", book.title);\r\n-        System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", book.author);\r\n-        System.out.printf(\"â”œâ”€ ê°€ê²©: %,dì›\\n\", book.price);\r\n-        System.out.println(SUB_BORDER);\r\n-        System.out.println(\"ğŸ“ˆ \" + getRandomStat());\r\n-        \r\n-        printMenu(new String[]{\r\n-            \"1. ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°\", \r\n-            \"2. ë°”ë¡œ êµ¬ë§¤\", \r\n-            \"0. ëŒì•„ê°€ê¸°\"\r\n-        });\r\n-        \r\n-        handlePurchase(scanner, book);\r\n-    }\r\n-\r\n-    private static void handlePurchase(Scanner scanner, Book book) {\r\n-        System.out.print(\"\\nâ–¶ ì„ íƒ: \");\r\n-        switch(scanner.nextInt()) {\r\n-            case 1: \r\n-                addToCart(scanner, book);\r\n-                break;\r\n-            case 2: \r\n-                processPayment(scanner, book);\r\n-                break;\r\n-            case 0: return;\r\n-        }\r\n-    }\r\n-\r\n-    private static void addToCart(Scanner scanner, Book book) {\r\n-        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n-        int qty = scanner.nextInt();\r\n-        System.out.printf(\"\\nâœ… %s %dê¶Œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€\\n\", book.title, qty);\r\n-        pause(scanner);\r\n-    }\r\n-\r\n-    private static void processPayment(Scanner scanner, Book book) {\r\n-        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n-        int qty = scanner.nextInt();\r\n-        System.out.printf(\"\\nâœ… %s %dê¶Œ êµ¬ë§¤ ì™„ë£Œ\\n\", book.title, qty);\r\n-        System.out.println(\"ğŸ“Š \" + getRandomStat());\r\n-        pause(scanner);\r\n-    }\r\n-\r\n-    // ê¸°íƒ€ ë©”ì„œë“œë“¤...\r\n-    \r\n-    private static String getRandomStat() {\r\n-        return STATS_MSG[random.nextInt(STATS_MSG.length)]\r\n-            .formatted(random.nextDouble()*10, random.nextInt(50)+1, random.nextInt(20)+1);\r\n-    }\r\n-\r\n-    private static void printHeader(String title) {\r\n-        System.out.println(BORDER);\r\n-        System.out.printf(\"âœ¦\\t%s\\n\", title);\r\n-        System.out.println(BORDER);\r\n-    }\r\n-\r\n-    private static void printMenu(String[] items) {\r\n-        System.out.println(\"\\n\" + SUB_BORDER);\r\n-        for(String item : items) {\r\n-            System.out.printf(\"â”‚ %s\\n\", item);\r\n-        }\r\n-        System.out.println(SUB_BORDER);\r\n-    }\r\n-\r\n-    private static void clearScreen() {\r\n-        System.out.print(\"\\033[H\\033[2J\");\r\n-        System.out.flush();\r\n-    }\r\n-\r\n-    private static void pause(Scanner scanner) {\r\n-        System.out.print(\"\\nê³„ì†í•˜ë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”...\");\r\n-        scanner.nextLine();\r\n-    }\r\n-\r\n-    private static void errorMsg(String msg) {\r\n-        System.out.println(\"\\nâš  \" + msg);\r\n-    }\r\n-\r\n-    private static void exit(Scanner scanner) {\r\n-        System.out.println(\"\\nâ¤ ì´ìš©í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\");\r\n-        System.exit(0);\r\n-    }\r\n-}\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1743656008439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,1031 @@\n+import java.util.*;\r\n+import java.time.LocalDate;\r\n+import java.time.format.DateTimeFormatter;\r\n+import java.time.format.DateTimeParseException;\r\n+import java.util.stream.Collectors;\r\n+\r\n+public class ViewMainTest2 {\r\n+    private static final Random random = new Random();\r\n+    private static final String BORDER = \"==================================================\";\r\n+    private static final String SUB_BORDER = \"---------------------------------------------------\";\r\n+    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\r\n+\r\n+    // ë„ì„œ ì •ë³´ í´ë˜ìŠ¤\r\n+    static class Book {\r\n+        String id;\r\n+        String title;\r\n+        String author;\r\n+        int basePrice;\r\n+        String type;\r\n+        String condition;\r\n+        String publicationDate;\r\n+        Integer reviewRank;\r\n+        int pageCount; // í˜ì´ì§€ ìˆ˜ ì¶”ê°€\r\n+\r\n+        public Book(String id, String title, String author, int basePrice, \r\n+                   String type, String condition, String publicationDate, Integer reviewRank, int pageCount) {\r\n+            this.id = id;\r\n+            this.title = title;\r\n+            this.author = author;\r\n+            this.basePrice = basePrice;\r\n+            this.type = type;\r\n+            this.condition = condition;\r\n+            this.publicationDate = publicationDate;\r\n+            this.reviewRank = reviewRank;\r\n+            this.pageCount = pageCount;\r\n+        }\r\n+\r\n+        public int getPrice() {\r\n+            return switch(condition) {\r\n+                case \"ìƒ\" -> (int)(basePrice * 0.7);\r\n+                case \"ì¤‘\" -> (int)(basePrice * 0.5);\r\n+                case \"í•˜\" -> (int)(basePrice * 0.3);\r\n+                default -> basePrice;\r\n+            };\r\n+        }\r\n+    }\r\n+\r\n+    // ì£¼ë¬¸ í´ë˜ìŠ¤ ì¶”ê°€\r\n+    static class Order {\r\n+        String orderId;\r\n+        String customerName;\r\n+        LocalDate orderDate;\r\n+        List<OrderItem> items;\r\n+        String status;\r\n+        String shippingAddress;\r\n+        String paymentMethod;\r\n+        int totalAmount;\r\n+\r\n+        public Order(String orderId, String customerName, LocalDate orderDate, \r\n+                    List<OrderItem> items, String status, String shippingAddress, String paymentMethod) {\r\n+            this.orderId = orderId;\r\n+            this.customerName = customerName;\r\n+            this.orderDate = orderDate;\r\n+            this.items = items;\r\n+            this.status = status;\r\n+            this.shippingAddress = shippingAddress;\r\n+            this.paymentMethod = paymentMethod;\r\n+            this.totalAmount = items.stream().mapToInt(OrderItem::getTotalPrice).sum();\r\n+        }\r\n+    }\r\n+\r\n+    // ì£¼ë¬¸ ìƒí’ˆ í´ë˜ìŠ¤ ì¶”ê°€\r\n+    static class OrderItem {\r\n+        Book book;\r\n+        int quantity;\r\n+        int priceAtPurchase;\r\n+\r\n+        public OrderItem(Book book, int quantity) {\r\n+            this.book = book;\r\n+            this.quantity = quantity;\r\n+            this.priceAtPurchase = book.getPrice();\r\n+        }\r\n+\r\n+        public int getTotalPrice() {\r\n+            return priceAtPurchase * quantity;\r\n+        }\r\n+    }\r\n+\r\n+    // Mock ë°ì´í„°ë² ì´ìŠ¤\r\n+    static class MockDB {\r\n+        private static final List<Book> masterBooks = Arrays.asList(\r\n+            // ë² ìŠ¤íŠ¸ì…€ëŸ¬\r\n+            new Book(\"B001\", \"Java Master\", \"í™ê¸¸ë™\", 35000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"new\", \"2025-01-15\", 1, 450),\r\n+            new Book(\"B002\", \"Effective Java\", \"Joshua Bloch\", 45000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ìƒ\", \"2024-12-01\", 2, 380),\r\n+            new Book(\"B003\", \"Clean Code\", \"Robert C. Martin\", 40000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ì¤‘\", \"2023-10-05\", 3, 420),\r\n+            new Book(\"B004\", \"ê°ì²´ì§€í–¥ì˜ ì‚¬ì‹¤ê³¼ ì˜¤í•´\", \"ì¡°ì˜í˜¸\", 22000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"í•˜\", \"2022-08-12\", 4, 250),\r\n+            new Book(\"B005\", \"ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive\", \"ì´ì›…ëª¨\", 38000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"new\", \"2024-11-20\", 5, 800),\r\n+            \r\n+            // ì‹ ê°„\r\n+            new Book(\"B101\", \"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\", \"new\", \"2025-03-20\", null, 320),\r\n+            new Book(\"B102\", \"Kotlin Programming\", \"ê¹€ë¯¼ì¤€\", 28000, \"ì‹ ê°„\", \"new\", \"2025-03-15\", null, 280),\r\n+            new Book(\"B103\", \"Cloud Native Architecture\", \"ë°•ì§€ì„±\", 42000, \"ì‹ ê°„\", \"new\", \"2025-03-10\", null, 350),\r\n+            new Book(\"B104\", \"ì¸ê³µì§€ëŠ¥ê³¼ ë¨¸ì‹ ëŸ¬ë‹ ê¸°ì´ˆ\", \"ìµœì˜í¬\", 35000, \"ì‹ ê°„\", \"new\", \"2025-03-05\", null, 420),\r\n+            new Book(\"B105\", \"ë¸”ë¡ì²´ì¸ ê°œë°œ ì‹¤ì „ ê°€ì´ë“œ\", \"ì •ìŠ¹í˜¸\", 37000, \"ì‹ ê°„\", \"new\", \"2025-02-28\", null, 380),\r\n+            \r\n+            // ì›¹ê°œë°œ\r\n+            new Book(\"B201\", \"React for Beginners\", \"Dan Abramov\", 35000, \"ì›¹ê°œë°œ\", \"í•˜\", \"2023-05-11\", null, 300),\r\n+            new Book(\"B202\", \"Vue.js ì™„ë²½ ê°€ì´ë“œ\", \"ì¥ì˜ì‹¤\", 28000, \"ì›¹ê°œë°œ\", \"new\", \"2025-02-28\", null, 280),\r\n+            new Book(\"B203\", \"HTML/CSS ë§ˆìŠ¤í„°\", \"êµ¬ì¢…ë§Œ\", 33000, \"ì›¹ê°œë°œ\", \"ìƒ\", \"2024-07-15\", null, 350),\r\n+            new Book(\"B204\", \"Angular ì‹¤ì „ í”„ë¡œì íŠ¸\", \"ì´ë™ìš±\", 45000, \"ì›¹ê°œë°œ\", \"new\", \"2024-09-30\", null, 400),\r\n+            \r\n+            // ë°ì´í„°ë² ì´ìŠ¤/ë°±ì—”ë“œ\r\n+            new Book(\"B301\", \"SQL ë ˆë²¨ì—…\", \"ë¯¸ì¦ˆë…¸ ë¯¸ì¸ íˆ\", 32000, \"ë°ì´í„°ë² ì´ìŠ¤\", \"ì¤‘\", \"2023-12-05\", null, 320),\r\n+            new Book(\"B302\", \"MongoDB ì™„ë²½ ê°€ì´ë“œ\", \"ìœ ì§„ìš°\", 37000, \"ë°ì´í„°ë² ì´ìŠ¤\", \"new\", \"2024-01-20\", null, 360),\r\n+            new Book(\"B303\", \"ìŠ¤í”„ë§ ë°ì´í„° JPA\", \"ê¹€ì˜í•œ\", 35000, \"ë°±ì—”ë“œ\", \"ìƒ\", \"2024-06-10\", null, 380),\r\n+            new Book(\"B304\", \"Node.js ë°±ì—”ë“œ ê°œë°œ\", \"ì´íƒœí˜¸\", 28000, \"ë°±ì—”ë“œ\", \"í•˜\", \"2022-05-15\", null, 290)\r\n+        );\r\n+\r\n+        private static List<Book> availableBooks = new ArrayList<>(masterBooks);\r\n+\r\n+        static List<Book> getBooks(String searchType) {\r\n+            return availableBooks.stream()\r\n+                .filter(book -> searchType.equals(\"ì „ì²´\") || book.type.equals(searchType))\r\n+                .collect(Collectors.toList());\r\n+        }\r\n+\r\n+        static Book getBookById(String bookId) {\r\n+            return masterBooks.stream()\r\n+                .filter(book -> book.id.equals(bookId))\r\n+                .findFirst()\r\n+                .orElse(null);\r\n+        }\r\n+\r\n+        static void removeBook(String bookId) {\r\n+            availableBooks.removeIf(book -> book.id.equals(bookId));\r\n+        }\r\n+    }\r\n+\r\n+    // ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ í´ë˜ìŠ¤\r\n+    static class CartItem {\r\n+        Book book;\r\n+        int quantity;\r\n+\r\n+        public CartItem(Book book, int quantity) {\r\n+            this.book = book;\r\n+            this.quantity = quantity;\r\n+        }\r\n+\r\n+        public int getTotalPrice() {\r\n+            return book.getPrice() * quantity;\r\n+        }\r\n+    }\r\n+\r\n+    // ì¥ë°”êµ¬ë‹ˆ DB\r\n+    static class MockCartDB {\r\n+        private static List<CartItem> cart = new ArrayList<>();\r\n+\r\n+        static void addItem(Book book, int quantity) {\r\n+            cart.add(new CartItem(book, quantity));\r\n+        }\r\n+\r\n+        static List<CartItem> getCart() {\r\n+            return new ArrayList<>(cart);\r\n+        }\r\n+\r\n+        static void clearCart() {\r\n+            cart.clear();\r\n+        }\r\n+    }\r\n+\r\n+    // ì£¼ë¬¸ ì´ë ¥ DB ì¶”ê°€\r\n+    static class MockOrderDB {\r\n+        private static List<Order> orders = new ArrayList<>();\r\n+        private static int nextOrderId = 1001;\r\n+\r\n+        static String addOrder(String customerName, List<CartItem> cartItems, String address, String paymentMethod) {\r\n+            String orderId = \"ORD-\" + nextOrderId++;\r\n+            List<OrderItem> orderItems = cartItems.stream()\r\n+                .map(cartItem -> new OrderItem(cartItem.book, cartItem.quantity))\r\n+                .collect(Collectors.toList());\r\n+            \r\n+            Order order = new Order(orderId, customerName, LocalDate.now(), \r\n+                                   orderItems, \"ë°°ì†¡ ì¤€ë¹„ì¤‘\", address, paymentMethod);\r\n+            orders.add(order);\r\n+            \r\n+            // ìƒ˜í”Œ ë°ì´í„° ìë™ ìƒì„±\r\n+            if (orders.size() <= 1) {\r\n+                generateSampleOrders();\r\n+            }\r\n+            \r\n+            return orderId;\r\n+        }\r\n+\r\n+        // ìƒ˜í”Œ ì£¼ë¬¸ ì´ë ¥ ìƒì„±\r\n+        private static void generateSampleOrders() {\r\n+            // ê³¼ê±° ì£¼ë¬¸ 1\r\n+            List<OrderItem> items1 = new ArrayList<>();\r\n+            items1.add(new OrderItem(MockDB.getBookById(\"B001\"), 2));\r\n+            items1.add(new OrderItem(MockDB.getBookById(\"B003\"), 1));\r\n+            orders.add(new Order(\"ORD-\" + nextOrderId++, \"í™ê¸¸ë™\", LocalDate.now().minusDays(7),\r\n+                               items1, \"ë°°ì†¡ ì™„ë£Œ\", \"ì„œìš¸ì‹œ ê°•ë‚¨êµ¬\", \"ì‹ ìš©ì¹´ë“œ\"));\r\n+            \r\n+            // ê³¼ê±° ì£¼ë¬¸ 2\r\n+            List<OrderItem> items2 = new ArrayList<>();\r\n+            items2.add(new OrderItem(MockDB.getBookById(\"B102\"), 1));\r\n+            items2.add(new OrderItem(MockDB.getBookById(\"B301\"), 3));\r\n+            orders.add(new Order(\"ORD-\" + nextOrderId++, \"ê¹€ì˜í¬\", LocalDate.now().minusDays(14),\r\n+                               items2, \"ë°°ì†¡ ì¤‘\", \"ë¶€ì‚°ì‹œ í•´ìš´ëŒ€êµ¬\", \"ê³„ì¢Œì´ì²´\"));\r\n+            \r\n+            // ê³¼ê±° ì£¼ë¬¸ 3\r\n+            List<OrderItem> items3 = new ArrayList<>();\r\n+            items3.add(new OrderItem(MockDB.getBookById(\"B203\"), 2));\r\n+            orders.add(new Order(\"ORD-\" + nextOrderId++, \"ì´ì² ìˆ˜\", LocalDate.now().minusMonths(1),\r\n+                               items3, \"ì·¨ì†Œë¨\", \"ëŒ€êµ¬ì‹œ ì¤‘êµ¬\", \"ì‹ ìš©ì¹´ë“œ\"));\r\n+            \r\n+            // ê³¼ê±° ì£¼ë¬¸ 4\r\n+            List<OrderItem> items4 = new ArrayList<>();\r\n+            items4.add(new OrderItem(MockDB.getBookById(\"B004\"), 1));\r\n+            items4.add(new OrderItem(MockDB.getBookById(\"B005\"), 1));\r\n+            items4.add(new OrderItem(MockDB.getBookById(\"B201\"), 1));\r\n+            orders.add(new Order(\"ORD-\" + nextOrderId++, \"ë°•ë¯¼ì§€\", LocalDate.now().minusMonths(2),\r\n+                               items4, \"ë°°ì†¡ ì™„ë£Œ\", \"ì¸ì²œì‹œ ì„œêµ¬\", \"ê³„ì¢Œì´ì²´\"));\r\n+        }\r\n+\r\n+        static List<Order> getOrders() {\r\n+            return new ArrayList<>(orders);\r\n+        }\r\n+\r\n+        static Order getOrderById(String orderId) {\r\n+            return orders.stream()\r\n+                .filter(order -> order.orderId.equals(orderId))\r\n+                .findFirst()\r\n+                .orElse(null);\r\n+        }\r\n+\r\n+        static List<Order> getOrdersByDateRange(LocalDate startDate, LocalDate endDate) {\r\n+            return orders.stream()\r\n+                .filter(order -> !order.orderDate.isBefore(startDate) && !order.orderDate.isAfter(endDate))\r\n+                .collect(Collectors.toList());\r\n+        }\r\n+\r\n+        static List<Order> getOrdersByStatus(String status) {\r\n+            if (status == null) {\r\n+                return new ArrayList<>(orders);\r\n+            }\r\n+            return orders.stream()\r\n+                .filter(order -> order.status.equals(status))\r\n+                .collect(Collectors.toList());\r\n+        }\r\n+\r\n+        static void updateOrderStatus(String orderId, String newStatus) {\r\n+            orders.stream()\r\n+                .filter(order -> order.orderId.equals(orderId))\r\n+                .findFirst()\r\n+                .ifPresent(order -> order.status = newStatus);\r\n+        }\r\n+\r\n+        static Map<String, Integer> getMonthlyOrderStats() {\r\n+            Map<String, Integer> monthlyCounts = new HashMap<>();\r\n+            \r\n+            for (Order order : orders) {\r\n+                String monthYear = order.orderDate.format(DateTimeFormatter.ofPattern(\"yyyy-MM\"));\r\n+                monthlyCounts.put(monthYear, monthlyCounts.getOrDefault(monthYear, 0) + 1);\r\n+            }\r\n+            \r\n+            return monthlyCounts;\r\n+        }\r\n+    }\r\n+\r\n+    // í†µê³„ ë©”ì‹œì§€ í´ë˜ìŠ¤ ì¶”ê°€\r\n+    static class StatisticMessage {\r\n+        String messageTemplate;\r\n+        double factor;\r\n+        String unitName;\r\n+\r\n+        public StatisticMessage(String messageTemplate, double factor, String unitName) {\r\n+            this.messageTemplate = messageTemplate;\r\n+            this.factor = factor;\r\n+            this.unitName = unitName;\r\n+        }\r\n+\r\n+        public String getFormattedMessage(int quantity) {\r\n+            double value = quantity * factor;\r\n+            return String.format(messageTemplate, value, unitName);\r\n+        }\r\n+    }\r\n+\r\n+    // ë™ì  ê³„ì‚°ë˜ëŠ” ë…ì„œ í†µê³„ ë©”ì‹œì§€\r\n+    private static final StatisticMessage[] PURCHASE_STATISTICS = {\r\n+        new StatisticMessage(\"ì§€ê¸ˆê¹Œì§€ ì½ìœ¼ì‹  ì±…ì˜ ì´ í˜ì´ì§€ë¥¼ ìŒ“ìœ¼ë©´ ì—ë² ë ˆìŠ¤íŠ¸ ë†’ì´ì˜ %.1f%sì— ë‹¬í•©ë‹ˆë‹¤.\", 0.03, \"ë°°\"),\r\n+        new StatisticMessage(\"ë‹¹ì‹ ì´ ì½ì€ ì±…ë“¤ì„ ìŒ“ìœ¼ë©´ ë‚¨ì‚°íƒ€ì›Œ %.1f%së¥¼ ì„¸ìš´ ë†’ì´ì…ë‹ˆë‹¤.\", 0.15, \"ê°œ\"),\r\n+        new StatisticMessage(\"ì˜¬í•´ ë…ì„œì— íˆ¬ìí•œ ì‹œê°„ì€ ì„œìš¸ì—ì„œ ë¶€ì‚°ê¹Œì§€ KTXë¡œ %.1f%s ì™•ë³µí•  ìˆ˜ ìˆëŠ” ì‹œê°„ì…ë‹ˆë‹¤.\", 0.2, \"ë²ˆ\"),\r\n+        new StatisticMessage(\"ë‹¹ì‹ ì˜ ë…ì„œ ì‹œê°„ì€ ë„·í”Œë¦­ìŠ¤ ë“œë¼ë§ˆ 'ì˜¤ì§•ì–´ ê²Œì„' ì‹œë¦¬ì¦ˆë¥¼ %.1f%s ë³¼ ìˆ˜ ìˆëŠ” ì‹œê°„ì…ë‹ˆë‹¤.\", 0.35, \"ë²ˆ\"),\r\n+        new StatisticMessage(\"ê° í˜ì´ì§€ê°€ í•œ ê±¸ìŒì´ë¼ë©´, ë‹¹ì‹ ì€ ì„œìš¸ì—ì„œ ë¶€ì‚°ê¹Œì§€ %.1f%s ì™•ë³µí•œ ê±°ë¦¬ë¥¼ ê±¸ì—ˆìŠµë‹ˆë‹¤!\", 0.02, \"ë²ˆ\"),\r\n+        new StatisticMessage(\"ë‹¹ì‹ ì´ ì½ì€ ì±…ì˜ í˜ì´ì§€ë¥¼ ì¼ë ¬ë¡œ ëŠ˜ì–´ë†“ìœ¼ë©´ í•œê°• ê¸¸ì´ì˜ %.1f%sì— í•´ë‹¹í•©ë‹ˆë‹¤.\", 0.05, \"ë°°\"),\r\n+        new StatisticMessage(\"ë‹¹ì‹ ì˜ ì „ìì±… ë…ì„œ ìŠµê´€ì€ ì†Œë‚˜ë¬´ %.1f%së¥¼ ì‚´ë ¸ìŠµë‹ˆë‹¤â€”ì—¬ì˜ë„ ê³µì›ì˜ 1/10ì— í•´ë‹¹í•˜ëŠ” ë©´ì ì…ë‹ˆë‹¤.\", 0.15, \"ê·¸ë£¨\"),\r\n+        new StatisticMessage(\"ë‹¹ì‹ ì´ ì½ì€ ì±…ë“¤ì˜ ë¬´ê²ŒëŠ” ì¤‘í˜• ìŠ¹ìš©ì°¨ %.1f%sì™€ ê°™ìŠµë‹ˆë‹¤.\", 0.01, \"ëŒ€\"),\r\n+        new StatisticMessage(\"ì˜¬í•´ ì½ì€ ì±…ì˜ ë‘ê»˜ë¥¼ ëª¨ë‘ í•©ì¹˜ë©´ ëƒ‰ì¥ê³  ë†’ì´ì˜ %.1f%sì…ë‹ˆë‹¤.\", 0.02, \"ë°°\")\r\n+    };\r\n+\r\n+    // ì¶œíŒ íŠ¸ë Œë“œ ë©”ì‹œì§€\r\n+    private static final String[] TREND_MESSAGES = {\r\n+        \"ë‹¹ì‹ ì´ ì„ í˜¸í•˜ëŠ” ì¥ë¥´ì˜ í‰ê·  ê°€ê²©ì€ 2020ë…„ ì´í›„ 15% í•˜ë½í–ˆìŠµë‹ˆë‹¤.\",\r\n+        \"Aì¶œíŒì‚¬ëŠ” ì‹œì¥ ì ìœ ìœ¨ 30%ë¡œ ì„ ë‘ë¥¼ ë‹¬ë¦¬ê³ , Bì¶œíŒì‚¬ê°€ 20%ë¡œ ë’¤ë¥¼ ì‡ê³  ìˆìŠµë‹ˆë‹¤.\",\r\n+        \"ë†’ì€ í‰ì ì„ ë°›ì€ ì±…ë“¤ì€ ëŒ€ì²´ë¡œ ê°€ê²©ì´ ë‚®ê³  2020ë…„ ì´í›„ ì¶œê°„ëœ ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.\",\r\n+        \"ë¯¸ìŠ¤í„°ë¦¬ ì¥ë¥´ëŠ” ë‹¤ë¥¸ ì¥ë¥´ì— ë¹„í•´ ì¼ê´€ë˜ê²Œ ë†’ì€ í‰ì ì„ ë°›ê³  ìˆìŠµë‹ˆë‹¤.\",\r\n+        \"ì „ìì±… ì‹œì¥ì€ ì§€ë‚œ 5ë…„ê°„ ì—°í‰ê·  22%ì˜ ì„±ì¥ë¥ ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤.\",\r\n+        \"ê¸°ìˆ  ì„œì ì€ í‰ê·  3ë…„ ì£¼ê¸°ë¡œ ê°œì •íŒì´ ì¶œê°„ë˜ëŠ” ì¶”ì„¸ë¥¼ ë³´ì…ë‹ˆë‹¤.\",\r\n+        \"ì½”ë”© êµìœ¡ ë„ì„œëŠ” ì§€ë‚œ 1ë…„ê°„ íŒë§¤ëŸ‰ì´ 35% ì¦ê°€í–ˆìŠµë‹ˆë‹¤.\"\r\n+    };\r\n+\r\n+    // ë©”ì¸ í•¨ìˆ˜\r\n+    public static void main(String[] args) {\r\n+        Scanner scanner = new Scanner(System.in);\r\n+        clearScreen();\r\n+        \r\n+        printHeader(\"ì˜¨ë¼ì¸ ì„œì  ì‹œìŠ¤í…œ\");\r\n+        printSection(\"ë¡œê·¸ì¸\");\r\n+        System.out.print(\"ì„±ëª…: \");\r\n+        scanner.nextLine();\r\n+        System.out.print(\"ë¹„ë°€ë²ˆí˜¸: \");\r\n+        scanner.nextLine();\r\n+        \r\n+        home(scanner);\r\n+    }\r\n+\r\n+    private static void home(Scanner scanner) {\r\n+        while(true) {\r\n+            clearScreen();\r\n+            printHeader(\"ë©”ì¸ ë©”ë‰´\");\r\n+            printMenu(new String[]{\r\n+                \"1. ë„ì„œ ê²€ìƒ‰\", \r\n+                \"2. íšŒì› ì •ë³´\", \r\n+                \"3. ì£¼ë¬¸ ì´ë ¥\", \r\n+                \"4. ì¥ë°”êµ¬ë‹ˆ\",\r\n+                \"0. í™ˆìœ¼ë¡œ\",\r\n+                \"99. ì¢…ë£Œ\"\r\n+            });\r\n+            \r\n+            try {\r\n+                System.out.print(\"\\n>> ë©”ë‰´ ì„ íƒ: \");\r\n+                int choice = scanner.nextInt();\r\n+                scanner.nextLine(); // ë²„í¼ ë¹„ìš°ê¸°\r\n+                \r\n+                switch(choice) {\r\n+                    case 1: searchFlow(scanner); break;\r\n+                    case 2: userFlow(scanner); break;\r\n+                    case 3: orderFlow(scanner); break;\r\n+                    case 4: cartFlow(scanner); break;\r\n+                    case 0: return; // í™ˆìœ¼ë¡œ\r\n+                    case 99: exit(scanner); break;\r\n+                    default: errorMsg(\"ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤.\");\r\n+                }\r\n+            } catch (Exception e) {\r\n+                errorHandler(scanner, e);\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    // ë„ì„œ ê²€ìƒ‰ íë¦„\r\n+    private static void searchFlow(Scanner scanner) {\r\n+        while(true) {\r\n+            clearScreen();\r\n+            printHeader(\"ë„ì„œ ê²€ìƒ‰ ì‹œìŠ¤í…œ\");\r\n+            printMenu(new String[]{\r\n+                \"1. ë² ìŠ¤íŠ¸ì…€ëŸ¬ ê²€ìƒ‰\",\r\n+                \"2. ì‹ ê°„ ë„ì„œ ê²€ìƒ‰\", \r\n+                \"3. ì „ì²´ ê²€ìƒ‰\",\r\n+                \"0. í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\",\r\n+                \"99. ì¢…ë£Œ\"\r\n+            });\r\n+\r\n+            System.out.print(\"\\n>> ê²€ìƒ‰ ìœ í˜•: \");\r\n+            int choice = getValidNumber(scanner, 0, 99);\r\n+            \r\n+            if(choice == 0) return;\r\n+            if(choice == 99) exit(scanner);\r\n+            \r\n+            String searchType = switch(choice) {\r\n+                case 1 -> \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\";\r\n+                case 2 -> \"ì‹ ê°„\";\r\n+                case 3 -> \"ì „ì²´\";\r\n+                default -> \"\";\r\n+            };\r\n+\r\n+            System.out.print(\"\\n>> ê²€ìƒ‰ì–´ ì…ë ¥: \");\r\n+            String keyword = scanner.next();\r\n+            scanner.nextLine(); // ë²„í¼ ë¹„ìš°ê¸°\r\n+            \r\n+            List<Book> results = MockDB.getBooks(searchType).stream()\r\n+                .filter(book -> book.title.contains(keyword) || book.author.contains(keyword))\r\n+                .collect(Collectors.toList());\r\n+                \r\n+            handleSearchResults(results, searchType, keyword, scanner);\r\n+        }\r\n+    }\r\n+\r\n+    private static void handleSearchResults(List<Book> books, String type, String keyword, Scanner scanner) {\r\n+        clearScreen();\r\n+        printHeader(\"'\" + keyword + \"' ê²€ìƒ‰ ê²°ê³¼ (\" + type + \")\");\r\n+\r\n+        if(books.isEmpty()) {\r\n+            System.out.println(\"\\n[ì•Œë¦¼] ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤\");\r\n+            pause(scanner);\r\n+            return;\r\n+        }\r\n+\r\n+        System.out.println(\"\\n[ì •ë ¬ ì˜µì…˜]\");\r\n+        List<String> sortOptions = new ArrayList<>(Arrays.asList(\r\n+            \"1. ê°€ê²© ë‚®ì€ ìˆœ\", \r\n+            \"2. ê°€ê²© ë†’ì€ ìˆœ\", \r\n+            \"3. ì¶œíŒì¼ ìµœì‹ ìˆœ\"\r\n+        ));\r\n+        \r\n+        if(type.equals(\"ë² ìŠ¤íŠ¸ì…€ëŸ¬\")) {\r\n+            sortOptions.add(\"4. ë¦¬ë·° ìˆœìœ„ ìˆœ\");\r\n+        }\r\n+        sortOptions.add(\"0. í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\");\r\n+        sortOptions.add(\"99. ì¢…ë£Œ\");\r\n+        \r\n+        printMenu(sortOptions.toArray(new String[0]));\r\n+\r\n+        System.out.print(\"\\n>> ì •ë ¬ ì„ íƒ: \");\r\n+        int sortChoice = getValidNumber(scanner, 0, 99);\r\n+        \r\n+        if(sortChoice == 0) return;\r\n+        if(sortChoice == 99) exit(scanner);\r\n+        \r\n+        sortBooks(books, sortChoice, type);\r\n+        displayBooks(books);\r\n+        \r\n+        System.out.println(\"\\n[ì•¡ì…˜ ë©”ë‰´]\");\r\n+        printMenu(new String[]{\r\n+            \"1. ìƒì„¸ë³´ê¸°\", \r\n+            \"2. ì¬ê²€ìƒ‰\", \r\n+            \"0. í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\", \r\n+            \"99. ì¢…ë£Œ\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ì„ íƒ: \");\r\n+        int actionChoice = getValidNumber(scanner, 0, 99);\r\n+        \r\n+        switch(actionChoice) {\r\n+            case 0: return;\r\n+            case 1: \r\n+                System.out.print(\">> ë„ì„œ ë²ˆí˜¸ ì…ë ¥: \");\r\n+                int bookNum = getValidNumber(scanner, 1, books.size());\r\n+                showBookDetail(books.get(bookNum-1), scanner);\r\n+                break;\r\n+            case 2: return; // ì¬ê²€ìƒ‰\r\n+            case 99: exit(scanner); break;\r\n+        }\r\n+    }\r\n+\r\n+    private static void sortBooks(List<Book> books, int sortChoice, String type) {\r\n+        switch(sortChoice) {\r\n+            case 1:\r\n+                books.sort(Comparator.comparingInt(Book::getPrice));\r\n+                break;\r\n+            case 2:\r\n+                books.sort((b1, b2) -> b2.getPrice() - b1.getPrice());\r\n+                break;\r\n+            case 3:\r\n+                books.sort((b1, b2) -> b2.publicationDate.compareTo(b1.publicationDate));\r\n+                break;\r\n+            case 4:\r\n+                if(type.equals(\"ë² ìŠ¤íŠ¸ì…€ëŸ¬\")) {\r\n+                    books.sort(Comparator.comparingInt(b -> b.reviewRank != null ? b.reviewRank : Integer.MAX_VALUE));\r\n+                }\r\n+                break;\r\n+            default:\r\n+                books.sort(Comparator.comparing(b -> b.title));\r\n+        }\r\n+    }\r\n+\r\n+    private static void displayBooks(List<Book> books) {\r\n+        int index = 1;\r\n+        for(Book book : books) {\r\n+            System.out.printf(\"\\n%d. %s\\n\", index++, book.title);\r\n+            System.out.printf(\"|- ID: %s\\n\", book.id);\r\n+            System.out.printf(\"|- ì €ì: %s\\n\", book.author);\r\n+            System.out.printf(\"|- ê°€ê²©: %,dì›\\n\", book.getPrice());\r\n+            System.out.printf(\"|- ìƒíƒœ: %s\\n\", getConditionText(book.condition));\r\n+            System.out.printf(\"|- ì¶œíŒì¼: %s\\n\", book.publicationDate);\r\n+            System.out.printf(\"|- í˜ì´ì§€: %dí˜ì´ì§€\\n\", book.pageCount);\r\n+            if(book.reviewRank != null) {\r\n+                System.out.printf(\"|- ë¦¬ë·° ìˆœìœ„: %dìœ„\\n\", book.reviewRank);\r\n+            }\r\n+            System.out.println(SUB_BORDER);\r\n+        }\r\n+    }\r\n+\r\n+    private static String getConditionText(String condition) {\r\n+        return switch(condition) {\r\n+            case \"new\" -> \"ì‹ ìƒí’ˆ\";\r\n+            case \"ìƒ\" -> \"ì¤‘ê³ -ìƒ\";\r\n+            case \"ì¤‘\" -> \"ì¤‘ê³ -ì¤‘\";\r\n+            case \"í•˜\" -> \"ì¤‘ê³ -í•˜\";\r\n+            default -> \"ì•Œ ìˆ˜ ì—†ìŒ\";\r\n+        };\r\n+    }\r\n+\r\n+    private static void showBookDetail(Book book, Scanner scanner) {\r\n+        clearScreen();\r\n+        printHeader(\"[ìƒì„¸ ì •ë³´] \" + book.title);\r\n+        System.out.printf(\"|- ISBN: %s\\n\", book.id);\r\n+        System.out.printf(\"|- ì €ì: %s\\n\", book.author);\r\n+        System.out.printf(\"|- ì •ê°€: %,dì›\\n\", book.basePrice);\r\n+        System.out.printf(\"|- íŒë§¤ê°€: %,dì›\\n\", book.getPrice());\r\n+        System.out.printf(\"|- ìƒíƒœ: %s\\n\", getConditionText(book.condition));\r\n+        System.out.printf(\"|- ì¶œíŒì¼: %s\\n\", book.publicationDate);\r\n+        System.out.printf(\"|- í˜ì´ì§€: %dí˜ì´ì§€\\n\", book.pageCount);\r\n+        if(book.reviewRank != null) {\r\n+            System.out.printf(\"|- ë¦¬ë·° ìˆœìœ„: %dìœ„\\n\", book.reviewRank);\r\n+        }\r\n+        System.out.println(SUB_BORDER);\r\n+\r\n+        printMenu(new String[]{\r\n+            \"1. ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€\", \r\n+            \"2. ë°”ë¡œêµ¬ë§¤\", \r\n+            \"0. ëŒì•„ê°€ê¸°\", \r\n+            \"99. ì¢…ë£Œ\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ì„ íƒ: \");\r\n+        int choice = getValidNumber(scanner, 0, 99);\r\n+        \r\n+        switch(choice) {\r\n+            case 0: return;\r\n+            case 1: handleAddToCart(book, scanner); break;\r\n+            case 2: processPurchase(book, scanner); break;\r\n+            case 99: exit(scanner); break;\r\n+        }\r\n+    }\r\n+\r\n+    private static void handleAddToCart(Book book, Scanner scanner) {\r\n+        System.out.print(\"\\n>> ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n+        int quantity = getValidNumber(scanner, 1, 10);\r\n+        MockCartDB.addItem(book, quantity);\r\n+        System.out.printf(\"\\n[ì™„ë£Œ] %s %dê¶Œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!\\n\", book.title, quantity);\r\n+        System.out.println(\"[ë…ì„œ í†µê³„] \" + getRandomStatistic(quantity));\r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    private static void processPurchase(Book book, Scanner scanner) {\r\n+        System.out.print(\"\\n>> ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n+        int quantity = getValidNumber(scanner, 1, 10);\r\n+        \r\n+        System.out.println(\"\\n================ ê²°ì œ ì •ë³´ ================\");\r\n+        System.out.printf(\"ë„ì„œëª…: %s\\n\", book.title);\r\n+        System.out.printf(\"ìˆ˜ëŸ‰: %dê¶Œ\\n\", quantity);\r\n+        System.out.printf(\"ê²°ì œê¸ˆì•¡: %,dì›\\n\", book.getPrice() * quantity);\r\n+        System.out.println(\"-----------------------------------------\");\r\n+        \r\n+        System.out.print(\"ë°°ì†¡ì§€ ì£¼ì†Œ: \");\r\n+        String address = scanner.nextLine();\r\n+        \r\n+        printMenu(new String[]{\r\n+            \"1. ì‹ ìš©ì¹´ë“œ ê²°ì œ\", \r\n+            \"2. ê³„ì¢Œì´ì²´\", \r\n+            \"0. ì·¨ì†Œ\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ê²°ì œ ë°©ë²• ì„ íƒ: \");\r\n+        int paymentType = getValidNumber(scanner, 0, 2);\r\n+        \r\n+        if(paymentType != 0) {\r\n+            String paymentMethod = (paymentType == 1) ? \"ì‹ ìš©ì¹´ë“œ\" : \"ê³„ì¢Œì´ì²´\";\r\n+            System.out.println(\"[ì™„ë£Œ] ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\");\r\n+            \r\n+            // ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€\r\n+            List<CartItem> orderItems = new ArrayList<>();\r\n+            orderItems.add(new CartItem(book, quantity));\r\n+            \r\n+            // ì£¼ë¬¸ ìƒì„±\r\n+            String orderId = MockOrderDB.addOrder(\"í™ê¸¸ë™\", orderItems, address, paymentMethod);\r\n+            System.out.printf(\"[ì£¼ë¬¸ë²ˆí˜¸] %s\\n\", orderId);\r\n+            \r\n+            // ì¬ê³  ê°ì†Œ\r\n+            MockDB.removeBook(book.id);\r\n+            \r\n+            // ë™ì  í†µê³„ ë©”ì‹œì§€ ì¶œë ¥\r\n+            System.out.println(\"[ë…ì„œ í†µê³„] \" + getRandomStatistic(quantity));\r\n+        }\r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    // ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ\r\n+    private static void cartFlow(Scanner scanner) {\r\n+        while(true) {\r\n+            clearScreen();\r\n+            printHeader(\"ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬\");\r\n+            List<CartItem> cart = MockCartDB.getCart();\r\n+            \r\n+            if(cart.isEmpty()) {\r\n+                System.out.println(\"\\n[ì•Œë¦¼] ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤\");\r\n+                pause(scanner);\r\n+                return;\r\n+            }\r\n+\r\n+            cart.forEach(item -> {\r\n+                System.out.printf(\"\\n[ë„ì„œ] %s\\n\", item.book.title);\r\n+                System.out.printf(\"|- ìˆ˜ëŸ‰: %dê°œ\\n\", item.quantity);\r\n+                System.out.printf(\"|- ë‹¨ê°€: %,dì›\\n\", item.book.getPrice());\r\n+                System.out.printf(\"|- ì†Œê³„: %,dì›\\n\", item.getTotalPrice());\r\n+                System.out.println(SUB_BORDER);\r\n+            });\r\n+\r\n+            // ëœë¤ ì¶œíŒ íŠ¸ë Œë“œ ë©”ì‹œì§€ ì¶œë ¥\r\n+            System.out.println(\"[ì¶œíŒ íŠ¸ë Œë“œ] \" + getRandomMessage(TREND_MESSAGES));\r\n+\r\n+            printMenu(new String[]{\r\n+                \"1. ì „ì²´ êµ¬ë§¤\", \r\n+                \"2. ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°\",\r\n+                \"0. ë’¤ë¡œê°€ê¸°\",\r\n+                \"99. ì¢…ë£Œ\"\r\n+            });\r\n+            \r\n+            System.out.print(\"\\n>> ì„ íƒ: \");\r\n+            int choice = getValidNumber(scanner, 0, 99);\r\n+            \r\n+            switch(choice) {\r\n+                case 0: return;\r\n+                case 1: processBulkPurchase(scanner); break;\r\n+                case 2:\r\n+                    MockCartDB.clearCart();\r\n+                    System.out.println(\"\\n[ì™„ë£Œ] ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì› ìŠµë‹ˆë‹¤\");\r\n+                    pause(scanner);\r\n+                    break;\r\n+                case 99: exit(scanner); break;\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    // ì¼ê´„ êµ¬ë§¤ ì²˜ë¦¬\r\n+    private static void processBulkPurchase(Scanner scanner) {\r\n+        List<CartItem> cart = MockCartDB.getCart();\r\n+        int total = cart.stream().mapToInt(CartItem::getTotalPrice).sum();\r\n+        int totalQuantity = cart.stream().mapToInt(item -> item.quantity).sum();\r\n+        \r\n+        System.out.println(\"\\n================ ê²°ì œ ì •ë³´ ================\");\r\n+        System.out.printf(\"ì´ ê²°ì œê¸ˆì•¡: %,dì›\\n\", total);\r\n+        System.out.printf(\"ì´ ë„ì„œ ìˆ˜ëŸ‰: %dê¶Œ\\n\", totalQuantity);\r\n+        System.out.println(\"-----------------------------------------\");\r\n+        \r\n+        System.out.print(\"ë°°ì†¡ì§€ ì£¼ì†Œ: \");\r\n+        String address = scanner.nextLine();\r\n+        \r\n+        printMenu(new String[]{\r\n+            \"1. ì‹ ìš©ì¹´ë“œ ê²°ì œ\", \r\n+            \"2. ê³„ì¢Œì´ì²´\", \r\n+            \"0. ì·¨ì†Œ\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ê²°ì œ ë°©ë²• ì„ íƒ: \");\r\n+        int paymentType = getValidNumber(scanner, 0, 2);\r\n+        \r\n+        if(paymentType != 0) {\r\n+            String paymentMethod = (paymentType == 1) ? \"ì‹ ìš©ì¹´ë“œ\" : \"ê³„ì¢Œì´ì²´\";\r\n+            System.out.println(\"[ì™„ë£Œ] ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\");\r\n+            \r\n+            // ì£¼ë¬¸ ìƒì„±\r\n+            String orderId = MockOrderDB.addOrder(\"í™ê¸¸ë™\", cart, address, paymentMethod);\r\n+            System.out.printf(\"[ì£¼ë¬¸ë²ˆí˜¸] %s\\n\", orderId);\r\n+            \r\n+            // êµ¬ë§¤í•œ ëª¨ë“  ì±… ì¬ê³ ì—ì„œ ì œê±°\r\n+            cart.forEach(item -> MockDB.removeBook(item.book.id));\r\n+            MockCartDB.clearCart();\r\n+            \r\n+            // ë™ì  í†µê³„ ë©”ì‹œì§€ ì¶œë ¥\r\n+            System.out.println(\"[ë…ì„œ í†µê³„] \" + getRandomStatistic(totalQuantity));\r\n+        }\r\n+        pause(scanner);\r\n+    }\r\n+    \r\n+    // ì£¼ë¬¸ ì´ë ¥ ê´€ë¦¬ - ì‹ ê·œ êµ¬í˜„\r\n+    private static void orderFlow(Scanner scanner) {\r\n+        while(true) {\r\n+            clearScreen();\r\n+            printHeader(\"ì£¼ë¬¸ ì´ë ¥ ê´€ë¦¬\");\r\n+            printSection(\"êµ¬ë§¤ ë‚´ì—­ ë° ì£¼ë¬¸ ìƒíƒœ í™•ì¸\");\r\n+            \r\n+            List<Order> orders = MockOrderDB.getOrders();\r\n+            \r\n+            if(orders.isEmpty()) {\r\n+                System.out.println(\"\\n[ì•Œë¦¼] ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤\");\r\n+                pause(scanner);\r\n+                return;\r\n+            }\r\n+\r\n+            System.out.println(\"\\n[ì£¼ë¬¸ ëª©ë¡]\");\r\n+            for(int i=0; i<orders.size(); i++) {\r\n+                Order order = orders.get(i);\r\n+                System.out.printf(\"%d. ì£¼ë¬¸ë²ˆí˜¸: %s | ê³ ê°ëª…: %s | ì£¼ë¬¸ì¼: %s | ìƒíƒœ: %s | ì´ì•¡: %,dì›\\n\",\r\n+                                  i+1, order.orderId, order.customerName, order.orderDate, \r\n+                                  order.status, order.totalAmount);\r\n+            }\r\n+\r\n+            printMenu(new String[]{\r\n+                \"1. ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ\", \r\n+                \"2. ë‚ ì§œë³„ ê²€ìƒ‰\", \r\n+                \"3. ìƒíƒœë³„ ê²€ìƒ‰\",\r\n+                \"4. ì›”ë³„ ì£¼ë¬¸ í†µê³„\",\r\n+                \"0. í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\",\r\n+                \"99. ì¢…ë£Œ\"\r\n+            });\r\n+            \r\n+            System.out.print(\"\\n>> ì„ íƒ: \");\r\n+            int choice = getValidNumber(scanner, 0, 99);\r\n+            \r\n+            switch(choice) {\r\n+                case 0: return;\r\n+                case 1: viewOrderDetails(scanner, orders); break;\r\n+                case 2: searchOrdersByDate(scanner); break;\r\n+                case 3: searchOrdersByStatus(scanner); break;\r\n+                case 4: showMonthlyOrderStats(scanner); break;\r\n+                case 99: exit(scanner); break;\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    private static void viewOrderDetails(Scanner scanner, List<Order> orders) {\r\n+        System.out.print(\"\\n>> ì¡°íšŒí•  ì£¼ë¬¸ ë²ˆí˜¸ ì„ íƒ: \");\r\n+        int orderNum = getValidNumber(scanner, 1, orders.size());\r\n+        \r\n+        Order order = orders.get(orderNum-1);\r\n+        \r\n+        clearScreen();\r\n+        printHeader(\"[ì£¼ë¬¸ ìƒì„¸ ì •ë³´] \" + order.orderId);\r\n+        System.out.printf(\"|- ì£¼ë¬¸ì: %s\\n\", order.customerName);\r\n+        System.out.printf(\"|- ì£¼ë¬¸ì¼: %s\\n\", order.orderDate);\r\n+        System.out.printf(\"|- ìƒíƒœ: %s\\n\", order.status);\r\n+        System.out.printf(\"|- ë°°ì†¡ì§€: %s\\n\", order.shippingAddress);\r\n+        System.out.printf(\"|- ê²°ì œë°©ë²•: %s\\n\", order.paymentMethod);\r\n+        System.out.println(\"\\n[ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡]\");\r\n+        \r\n+        int totalPages = 0;\r\n+        \r\n+        for(int i=0; i<order.items.size(); i++) {\r\n+            OrderItem item = order.items.get(i);\r\n+            System.out.printf(\"%d. %s | ì €ì: %s | ìˆ˜ëŸ‰: %dê°œ | ê°€ê²©: %,dì› | ì†Œê³„: %,dì›\\n\",\r\n+                              i+1, item.book.title, item.book.author, item.quantity, \r\n+                              item.priceAtPurchase, item.getTotalPrice());\r\n+            totalPages += item.book.pageCount * item.quantity;\r\n+        }\r\n+        \r\n+        System.out.printf(\"\\n|- ì´ í˜ì´ì§€ ìˆ˜: %dí˜ì´ì§€\\n\", totalPages);\r\n+        System.out.printf(\"|- ì´ ê²°ì œê¸ˆì•¡: %,dì›\\n\", order.totalAmount);\r\n+        \r\n+        printMenu(new String[]{\r\n+            \"1. ì£¼ë¬¸ ìƒíƒœ ë³€ê²½\", \r\n+            \"2. ë°°ì†¡ ì¶”ì \",\r\n+            \"3. ì˜ìˆ˜ì¦ ì¶œë ¥\",\r\n+            \"0. ëŒì•„ê°€ê¸°\",\r\n+            \"99. ì¢…ë£Œ\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ì„ íƒ: \");\r\n+        int choice = getValidNumber(scanner, 0, 99);\r\n+        \r\n+        switch(choice) {\r\n+            case 0: return;\r\n+            case 1: changeOrderStatus(scanner, order); break;\r\n+            case 2: \r\n+                System.out.println(\"\\n[ë°°ì†¡ ì¶”ì  ì •ë³´]\");\r\n+                System.out.println(\"ë°°ì†¡ ìƒíƒœ: \" + order.status);\r\n+                if(order.status.equals(\"ë°°ì†¡ ì¤‘\")) {\r\n+                    System.out.println(\"í˜„ì¬ ìœ„ì¹˜: ë¬¼ë¥˜ì„¼í„° -> ëŒ€êµ¬ í—ˆë¸Œ -> ì§€ì—­ ë°°ì†¡ì  ì´ë™ ì¤‘\");\r\n+                    System.out.println(\"ì˜ˆìƒ ë„ì°©ì¼: \" + LocalDate.now().plusDays(2));\r\n+                } else if(order.status.equals(\"ë°°ì†¡ ì™„ë£Œ\")) {\r\n+                    System.out.println(\"ë°°ì†¡ ì™„ë£Œì¼: \" + order.orderDate.plusDays(3));\r\n+                    System.out.println(\"ìˆ˜ë ¹ì¸: \" + order.customerName);\r\n+                } else {\r\n+                    System.out.println(\"ì•„ì§ ë°°ì†¡ì´ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\");\r\n+                }\r\n+                pause(scanner);\r\n+                break;\r\n+            case 3:\r\n+                System.out.println(\"\\n[ì˜ìˆ˜ì¦ ì¶œë ¥]\");\r\n+                System.out.println(BORDER);\r\n+                System.out.println(\"               ì˜¨ë¼ì¸ ì„œì  ì˜ìˆ˜ì¦\");\r\n+                System.out.println(\"ì£¼ë¬¸ë²ˆí˜¸: \" + order.orderId);\r\n+                System.out.println(\"ì£¼ë¬¸ì¼ì‹œ: \" + order.orderDate);\r\n+                System.out.println(\"ê³ ê°ëª…: \" + order.customerName);\r\n+                System.out.println(SUB_BORDER);\r\n+                \r\n+                for(OrderItem item : order.items) {\r\n+                    System.out.printf(\"%s x %dê¶Œ = %,dì›\\n\", \r\n+                                     item.book.title, item.quantity, item.getTotalPrice());\r\n+                }\r\n+                \r\n+                System.out.println(SUB_BORDER);\r\n+                System.out.printf(\"ê²°ì œ ê¸ˆì•¡: %,dì›\\n\", order.totalAmount);\r\n+                System.out.printf(\"ê²°ì œ ë°©ë²•: %s\\n\", order.paymentMethod);\r\n+                System.out.println(BORDER);\r\n+                System.out.println(\"ì˜ìˆ˜ì¦ì´ í”„ë¦°í„°ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.\");\r\n+                pause(scanner);\r\n+                break;\r\n+            case 99: exit(scanner); break;\r\n+        }\r\n+    }\r\n+\r\n+    private static void changeOrderStatus(Scanner scanner, Order order) {\r\n+        System.out.println(\"\\n[ì£¼ë¬¸ ìƒíƒœ ë³€ê²½]\");\r\n+        printMenu(new String[]{\r\n+            \"1. ë°°ì†¡ ì¤€ë¹„ì¤‘\", \r\n+            \"2. ë°°ì†¡ ì¤‘\", \r\n+            \"3. ë°°ì†¡ ì™„ë£Œ\",\r\n+            \"4. ì·¨ì†Œë¨\",\r\n+            \"0. ëŒì•„ê°€ê¸°\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ìƒˆ ìƒíƒœ ì„ íƒ: \");\r\n+        int choice = getValidNumber(scanner, 0, 4);\r\n+        \r\n+        if(choice == 0) return;\r\n+        \r\n+        String newStatus = switch(choice) {\r\n+            case 1 -> \"ë°°ì†¡ ì¤€ë¹„ì¤‘\";\r\n+            case 2 -> \"ë°°ì†¡ ì¤‘\";\r\n+            case 3 -> \"ë°°ì†¡ ì™„ë£Œ\";\r\n+            case 4 -> \"ì·¨ì†Œë¨\";\r\n+            default -> order.status;\r\n+        };\r\n+        \r\n+        MockOrderDB.updateOrderStatus(order.orderId, newStatus);\r\n+        System.out.printf(\"\\n[ì™„ë£Œ] ì£¼ë¬¸ %sì˜ ìƒíƒœê°€ '%s'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.\\n\", \r\n+                         order.orderId, newStatus);\r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    private static void searchOrdersByDate(Scanner scanner) {\r\n+        System.out.println(\"\\n[ë‚ ì§œë³„ ê²€ìƒ‰]\");\r\n+        System.out.print(\"ê²€ìƒ‰ ì‹œì‘ì¼ ì…ë ¥ (YYYY-MM-DD): \");\r\n+        String startDateStr = scanner.nextLine();\r\n+        System.out.print(\"ê²€ìƒ‰ ì¢…ë£Œì¼ ì…ë ¥ (YYYY-MM-DD): \");\r\n+        String endDateStr = scanner.nextLine();\r\n+        \r\n+        try {\r\n+            LocalDate startDate = LocalDate.parse(startDateStr, DATE_FORMATTER);\r\n+            LocalDate endDate = LocalDate.parse(endDateStr, DATE_FORMATTER);\r\n+            \r\n+            List<Order> filteredOrders = MockOrderDB.getOrdersByDateRange(startDate, endDate);\r\n+            \r\n+            if(filteredOrders.isEmpty()) {\r\n+                System.out.println(\"\\n[ì•Œë¦¼] í•´ë‹¹ ê¸°ê°„ì— ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤\");\r\n+            } else {\r\n+                System.out.printf(\"\\n[%s ~ %s ì£¼ë¬¸ ëª©ë¡]\\n\", startDateStr, endDateStr);\r\n+                for(int i=0; i<filteredOrders.size(); i++) {\r\n+                    Order order = filteredOrders.get(i);\r\n+                    System.out.printf(\"%d. ì£¼ë¬¸ë²ˆí˜¸: %s | ê³ ê°ëª…: %s | ì£¼ë¬¸ì¼: %s | ìƒíƒœ: %s | ì´ì•¡: %,dì›\\n\",\r\n+                                      i+1, order.orderId, order.customerName, order.orderDate, \r\n+                                      order.status, order.totalAmount);\r\n+                }\r\n+            }\r\n+        } catch (DateTimeParseException e) {\r\n+            System.out.println(\"\\n[ì˜¤ë¥˜] ë‚ ì§œ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤ (YYYY-MM-DD)\");\r\n+        }\r\n+        \r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    private static void searchOrdersByStatus(Scanner scanner) {\r\n+        System.out.println(\"\\n[ìƒíƒœë³„ ê²€ìƒ‰]\");\r\n+        printMenu(new String[]{\r\n+            \"1. ë°°ì†¡ ì¤€ë¹„ì¤‘\", \r\n+            \"2. ë°°ì†¡ ì¤‘\", \r\n+            \"3. ë°°ì†¡ ì™„ë£Œ\",\r\n+            \"4. ì·¨ì†Œë¨\",\r\n+            \"5. ì „ì²´ ìƒíƒœ\",\r\n+            \"0. ëŒì•„ê°€ê¸°\"\r\n+        });\r\n+        \r\n+        System.out.print(\"\\n>> ê²€ìƒ‰í•  ìƒíƒœ: \");\r\n+        int choice = getValidNumber(scanner, 0, 5);\r\n+        \r\n+        if(choice == 0) return;\r\n+        \r\n+        String statusToSearch = switch(choice) {\r\n+            case 1 -> \"ë°°ì†¡ ì¤€ë¹„ì¤‘\";\r\n+            case 2 -> \"ë°°ì†¡ ì¤‘\";\r\n+            case 3 -> \"ë°°ì†¡ ì™„ë£Œ\";\r\n+            case 4 -> \"ì·¨ì†Œë¨\";\r\n+            case 5 -> null; // ì „ì²´ ìƒíƒœ\r\n+            default -> null;\r\n+        };\r\n+        \r\n+        List<Order> filteredOrders = MockOrderDB.getOrdersByStatus(statusToSearch);\r\n+        \r\n+        if(filteredOrders.isEmpty()) {\r\n+            System.out.println(\"\\n[ì•Œë¦¼] í•´ë‹¹ ìƒíƒœì˜ ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤\");\r\n+        } else {\r\n+            System.out.printf(\"\\n[%s ìƒíƒœ ì£¼ë¬¸ ëª©ë¡]\\n\", \r\n+                             statusToSearch != null ? statusToSearch : \"ì „ì²´\");\r\n+            for(int i=0; i<filteredOrders.size(); i++) {\r\n+                Order order = filteredOrders.get(i);\r\n+                System.out.printf(\"%d. ì£¼ë¬¸ë²ˆí˜¸: %s | ê³ ê°ëª…: %s | ì£¼ë¬¸ì¼: %s | ì´ì•¡: %,dì›\\n\",\r\n+                                  i+1, order.orderId, order.customerName, order.orderDate, \r\n+                                  order.totalAmount);\r\n+            }\r\n+        }\r\n+        \r\n+        pause(scanner);\r\n+    }\r\n+\r\n+    private static void showMonthlyOrderStats(Scanner scanner) {\r\n+        clearScreen();\r\n+        printHeader(\"ì›”ë³„ ì£¼ë¬¸ í†µê³„\");\r\n+        \r\n+        Map<String, Integer> monthlyStats = MockOrderDB.getMonthlyOrderStats();\r\n+        \r\n+        if(monthlyStats.isEmpty()) {\r\n+            System.out.println(\"\\n[ì•Œë¦¼] ì£¼ë¬¸ í†µê³„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤\");\r\n+        } else {\r\n+            System.out.println(\"\\n[ì›”ë³„ ì£¼ë¬¸ ê±´ìˆ˜]\");\r\n+            \r\n+            // ë‚ ì§œìˆœìœ¼ë¡œ ì •ë ¬\r\n+            List<String> sortedMonths = new ArrayList<>(monthlyStats.keySet());\r\n+            Collections.sort(sortedMonths);\r\n+            \r\n+            System.out.println(SUB_BORDER);\r\n+            System.out.printf(\"%-10s | %-10s | %-10s\\n\", \"ë…„-ì›”\", \"ì£¼ë¬¸ ê±´ìˆ˜\", \"ê·¸ë˜í”„\");\r\n+            System.out.println(SUB_BORDER);\r\n+            \r\n+            for(String month : sortedMonths) {\r\n+                int count = monthlyStats.get(month);\r\n+                System.out.printf(\"%-10s | %-10d | %s\\n\", \r\n+                                 month, count, \"*\".repeat(count * 2));\r\n+            }\r\n+            \r\n+            System.out.println(SUB_BORDER);\r\n+            \r\n+            // ì´ê³„ ê³„ì‚°\r\n+            int total = monthlyStats.values().stream().mapToInt(Integer::intValue).sum();\r\n+            System.out.printf(\"ì´ ì£¼ë¬¸ ê±´ìˆ˜: %dê±´\\n\", total);\r\n+        }\r\n+        \r\n+        printMenu(new String[]{\"0. ëŒì•„ê°€ê¸°\"});\r\n+        System.out.print(\"\\n>> ì„ íƒ: \");\r\n+        getValidNumber(scanner, 0, 0);\r\n+    }\r\n+\r\n+    // íšŒì› ì •ë³´ ê´€ë¦¬\r\n+    private static void userFlow(Scanner scanner) {\r\n+        System.out.println(\"íšŒì› ì •ë³´ ê´€ë¦¬ ê¸°ëŠ¥ì€ ì•„ì§ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.\");\r\n+        pause(scanner);\r\n+    }\r\n+    \r\n+    // ì„¹ì…˜ ì¶œë ¥\r\n+    private static void printSection(String title) {\r\n+        System.out.println(\"\\n\" + SUB_BORDER);\r\n+        System.out.println(\"| \" + title);\r\n+        System.out.println(SUB_BORDER);\r\n+    }\r\n+\r\n+    // í—¤ë” ì¶œë ¥\r\n+    private static void printHeader(String title) {\r\n+        System.out.println(BORDER);\r\n+        System.out.println(\"| \" + title + \" |\");\r\n+        System.out.println(BORDER);\r\n+    }\r\n+\r\n+    // ë©”ë‰´ ì¶œë ¥\r\n+    private static void printMenu(String[] items) {\r\n+        System.out.println(\"\\n\" + SUB_BORDER);\r\n+        for(String item : items) {\r\n+            System.out.println(item);\r\n+        }\r\n+        System.out.println(SUB_BORDER);\r\n+    }\r\n+\r\n+    // í™”ë©´ í´ë¦¬ì–´\r\n+    private static void clearScreen() {\r\n+        for(int i=0; i<50; i++) {\r\n+            System.out.println();\r\n+        }\r\n+    }\r\n+\r\n+    // ì¼ì‹œ ì •ì§€\r\n+    private static void pause(Scanner scanner) {\r\n+        System.out.print(\"\\nê³„ì†í•˜ë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”...\");\r\n+        scanner.nextLine();\r\n+    }\r\n+\r\n+    // ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥\r\n+    private static void errorMsg(String message) {\r\n+        System.out.println(\"\\n[ê²½ê³ ] \" + message);\r\n+    }\r\n+\r\n+    // ì…ë ¥ ê²€ì¦\r\n+    private static int getValidNumber(Scanner scanner, int min, int max) {\r\n+        while(true) {\r\n+            try {\r\n+                int input = scanner.nextInt();\r\n+                scanner.nextLine(); // ë²„í¼ ë¹„ìš°ê¸°\r\n+                if(input == 0 || input == 99 || (input >= min && input <= max)) {\r\n+                    return input;\r\n+                }\r\n+                System.out.printf(\"[ê²½ê³ ] %d~%d ì‚¬ì´ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (0:ë’¤ë¡œê°€ê¸°, 99:ì¢…ë£Œ)\\n\", min, max);\r\n+            } catch(InputMismatchException e) {\r\n+                System.out.println(\"[ê²½ê³ ] ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤\");\r\n+                scanner.nextLine(); // ë²„í¼ ë¹„ìš°ê¸°\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    // ëœë¤ ë©”ì‹œì§€ ìƒì„±\r\n+    private static String getRandomMessage(String[] messages) {\r\n+        return messages[random.nextInt(messages.length)];\r\n+    }\r\n+    \r\n+    // ëœë¤ í†µê³„ ë©”ì‹œì§€ ìƒì„± (ìˆ˜ëŸ‰ ê¸°ë°˜ ë™ì  ê³„ì‚°)\r\n+    private static String getRandomStatistic(int quantity) {\r\n+        StatisticMessage statistic = PURCHASE_STATISTICS[random.nextInt(PURCHASE_STATISTICS.length)];\r\n+        return statistic.getFormattedMessage(quantity);\r\n+    }\r\n+\r\n+    // ì˜ˆì™¸ ì²˜ë¦¬ í•¸ë“¤ëŸ¬\r\n+    private static void errorHandler(Scanner scanner, Exception e) {\r\n+        System.out.println(\"\\n[ì‹œìŠ¤í…œ ì˜¤ë¥˜] \" + e.getMessage());\r\n+        scanner.nextLine(); // ë²„í¼ ë¹„ìš°ê¸°\r\n+    }\r\n+    \r\n+    // ì¢…ë£Œ\r\n+    private static void exit(Scanner scanner) {\r\n+        System.out.println(\"\\n[ì¢…ë£Œ] í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\");\r\n+        System.out.println(\"ì´ìš©í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\");\r\n+        scanner.close();\r\n+        System.exit(0);\r\n+    }\r\n+}\r\n"
                },
                {
                    "date": 1743656070132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -332,9 +332,8 @@\n                 \"1. ë„ì„œ ê²€ìƒ‰\", \r\n                 \"2. íšŒì› ì •ë³´\", \r\n                 \"3. ì£¼ë¬¸ ì´ë ¥\", \r\n                 \"4. ì¥ë°”êµ¬ë‹ˆ\",\r\n-                \"0. í™ˆìœ¼ë¡œ\",\r\n                 \"99. ì¢…ë£Œ\"\r\n             });\r\n             \r\n             try {\r\n@@ -346,9 +345,9 @@\n                     case 1: searchFlow(scanner); break;\r\n                     case 2: userFlow(scanner); break;\r\n                     case 3: orderFlow(scanner); break;\r\n                     case 4: cartFlow(scanner); break;\r\n-                    case 0: return; // í™ˆìœ¼ë¡œ\r\n+                    // case 0: return; // í™ˆìœ¼ë¡œ\r\n                     case 99: exit(scanner); break;\r\n                     default: errorMsg(\"ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤.\");\r\n                 }\r\n             } catch (Exception e) {\r\n"
                },
                {
                    "date": 1743656263930,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -403,9 +403,12 @@\n             pause(scanner);\r\n             return;\r\n         }\r\n \r\n+        displayBooks(books);\r\n+\r\n         System.out.println(\"\\n[ì •ë ¬ ì˜µì…˜]\");\r\n+        System.out.println();\r\n         List<String> sortOptions = new ArrayList<>(Arrays.asList(\r\n             \"1. ê°€ê²© ë‚®ì€ ìˆœ\", \r\n             \"2. ê°€ê²© ë†’ì€ ìˆœ\", \r\n             \"3. ì¶œíŒì¼ ìµœì‹ ìˆœ\"\r\n"
                }
            ],
            "date": 1743647848435,
            "name": "Commit-0",
            "content": "import java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ViewMainTest2 {\r\n    private static final Random random = new Random();\r\n    private static final String BORDER = \"âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦âœ§âœ¦\";\r\n    private static final String SUB_BORDER = \"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\";\r\n\r\n    // ë„ì„œ ì •ë³´ í´ë˜ìŠ¤\r\n    static class Book {\r\n        String id;\r\n        String title;\r\n        String author;\r\n        int basePrice;\r\n        String type;\r\n        String condition;\r\n        String publicationDate;  // ì¶”ê°€ëœ í•„ë“œ\r\n        Integer reviewRank;      // ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì „ìš© í•„ë“œ\r\n\r\n        public Book(String id, String title, String author, int basePrice, \r\n                   String type, String condition, String publicationDate, Integer reviewRank) {\r\n            this.id = id;\r\n            this.title = title;\r\n            this.author = author;\r\n            this.basePrice = basePrice;\r\n            this.type = type;\r\n            this.condition = condition;\r\n            this.publicationDate = publicationDate;\r\n            this.reviewRank = reviewRank;\r\n        }\r\n\r\n        public int getPrice() {\r\n            return switch(condition) {\r\n                case \"ìƒ\" -> (int)(basePrice * 0.7);\r\n                case \"ì¤‘\" -> (int)(basePrice * 0.5);\r\n                case \"í•˜\" -> (int)(basePrice * 0.3);\r\n                default -> basePrice;\r\n            };\r\n        }\r\n    }\r\n\r\n    // ê°œì„ ëœ Mock ë°ì´í„°ë² ì´ìŠ¤\r\n    static class MockDB {\r\n        private static final List<Book> masterBooks = Arrays.asList(\r\n            // ë² ìŠ¤íŠ¸ì…€ëŸ¬ (ë¦¬ë·° ìˆœìœ„ í¬í•¨)\r\n            new Book(\"B001\", \"Java Master\", \"í™ê¸¸ë™\", 35000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"new\", \"2025-01-15\", 1),\r\n            new Book(\"B002\", \"Effective Java\", \"Joshua Bloch\", 45000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ìƒ\", \"2024-12-01\", 2),\r\n            new Book(\"B002-1\", \"Effective Java\", \"Joshua Bloch\", 45000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ì¤‘\", \"2024-12-01\", 2),\r\n            \r\n            // ì‹ ê°„ ë„ì„œ\r\n            new Book(\"B003\", \"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\", \"new\", \"2025-03-20\", null),\r\n            new Book(\"B003-1\", \"Spring Boot Guide\", \"ì´ìˆœì‹ \", 30000, \"ì‹ ê°„\", \"ìƒ\", \"2025-03-20\", null),\r\n            \r\n            // ì¤‘ê³  ë„ì„œ\r\n            new Book(\"B004\", \"React for Beginners\", \"Dan Abramov\", 35000, \"ì „ì²´\", \"í•˜\", \"2023-05-11\", null),\r\n            new Book(\"B005\", \"Python AI\", \"ì¥ì˜ì‹¤\", 28000, \"ì „ì²´\", \"new\", \"2025-02-28\", null),\r\n            new Book(\"B006\", \"Clean Code\", \"Robert C. Martin\", 40000, \"ì „ì²´\", \"ìƒ\", \"2024-10-01\", null),\r\n            new Book(\"B007\", \"ë””ìì¸ íŒ¨í„´ì˜ ì •ì„\", \"GoF\", 50000, \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\", \"ì¤‘\", \"2023-07-22\", 3)\r\n        );\r\n\r\n        private static List<Book> availableBooks = new ArrayList<>(masterBooks);\r\n\r\n        static List<Book> getBooks(String searchType) {\r\n            return availableBooks.stream()\r\n                .filter(book -> searchType.equals(\"ì „ì²´\") || book.type.equals(searchType))\r\n                .collect(Collectors.toList());\r\n        }\r\n\r\n        static void removeBook(String bookId) {\r\n            availableBooks.removeIf(book -> book.id.equals(bookId));\r\n        }\r\n    }\r\n\r\n    // ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ í´ë˜ìŠ¤\r\n    static class CartItem {\r\n        Book book;\r\n        int quantity;\r\n\r\n        public CartItem(Book book, int quantity) {\r\n            this.book = book;\r\n            this.quantity = quantity;\r\n        }\r\n\r\n        public int getTotalPrice() {\r\n            return book.getPrice() * quantity;\r\n        }\r\n    }\r\n\r\n    // ì¥ë°”êµ¬ë‹ˆ DB\r\n    static class MockCartDB {\r\n        private static List<CartItem> cart = new ArrayList<>();\r\n\r\n        static void addItem(Book book, int quantity) {\r\n            cart.add(new CartItem(book, quantity));\r\n        }\r\n\r\n        static List<CartItem> getCart() {\r\n            return new ArrayList<>(cart);\r\n        }\r\n\r\n        static void clearCart() {\r\n            cart.clear();\r\n        }\r\n    }\r\n\r\n    // ë…ì„œ í†µê³„ ë©”ì‹œì§€\r\n    private static final String[] PURCHASE_MESSAGES = { /* ì´ì „ê³¼ ë™ì¼ */ };\r\n\r\n    // ì‹œìŠ¤í…œ ë©”ì¸ íë¦„\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        clearScreen();\r\n        \r\n        printHeader(\"ì˜¨ë¼ì¸ ì„œì  ì‹œìŠ¤í…œ\");\r\n        printSection(\"ë¡œê·¸ì¸\");\r\n        System.out.print(\"â”œâ”€ ì„±ëª…: \");\r\n        scanner.nextLine();\r\n        System.out.print(\"â”œâ”€ ë¹„ë°€ë²ˆí˜¸: \");\r\n        scanner.nextLine();\r\n        \r\n        home(scanner);\r\n    }\r\n\r\n    private static void home(Scanner scanner) {\r\n        while(true) {\r\n            clearScreen();\r\n            printHeader(\"ë©”ì¸ ë©”ë‰´\");\r\n            printMenu(new String[]{\r\n                \"1. ë„ì„œ ê²€ìƒ‰\", \r\n                \"2. íšŒì› ì •ë³´\", \r\n                \"3. ì£¼ë¬¸ ì´ë ¥\", \r\n                \"4. ì¥ë°”êµ¬ë‹ˆ\",\r\n                \"99. ì¢…ë£Œ\"\r\n            });\r\n            \r\n            try {\r\n                System.out.print(\"\\nâ–¶ ë©”ë‰´ ì„ íƒ: \");\r\n                switch(scanner.nextInt()) {\r\n                    case 1: searchFlow(scanner); break;\r\n                    case 2: userFlow(scanner); break;\r\n                    case 3: orderFlow(scanner); break;\r\n                    case 4: cartFlow(scanner); break;\r\n                    case 99: exit(scanner); break;\r\n                    default: errorMsg(\"ì˜ëª»ëœ ì…ë ¥\");\r\n                }\r\n            } catch (Exception e) {\r\n                errorHandler(scanner, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    // ë„ì„œ ê²€ìƒ‰ ë° ì •ë ¬ ì‹œìŠ¤í…œ\r\n    private static void searchFlow(Scanner scanner) {\r\n        while(true) {\r\n            clearScreen();\r\n            printHeader(\"ë„ì„œ ê²€ìƒ‰ ì‹œìŠ¤í…œ\");\r\n            printMenu(new String[]{\r\n                \"1. ë² ìŠ¤íŠ¸ì…€ëŸ¬ ê²€ìƒ‰\",\r\n                \"2. ì‹ ê°„ ë„ì„œ ê²€ìƒ‰\", \r\n                \"3. ì „ì²´ ê²€ìƒ‰\",\r\n                \"0. í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\",\r\n                \"99. ì‹œìŠ¤í…œ ì¢…ë£Œ\"\r\n            });\r\n\r\n            int choice = getValidNumber(scanner, 0, 99);\r\n            if(choice == 0) return;\r\n            if(choice == 99) exit(scanner);\r\n            \r\n            String searchType = switch(choice) {\r\n                case 1 -> \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\";\r\n                case 2 -> \"ì‹ ê°„\";\r\n                case 3 -> \"ì „ì²´\";\r\n                default -> \"\";\r\n            };\r\n\r\n            System.out.print(\"\\nğŸ” ê²€ìƒ‰ì–´ ì…ë ¥: \");\r\n            String keyword = scanner.next();\r\n            \r\n            List<Book> results = MockDB.getBooks(searchType).stream()\r\n                .filter(book -> book.title.contains(keyword))\r\n                .collect(Collectors.toList());\r\n                \r\n            handleSearchResults(results, searchType, keyword, scanner);\r\n        }\r\n    }\r\n\r\n    private static void handleSearchResults(List<Book> books, String type, String keyword, Scanner scanner) {\r\n        clearScreen();\r\n        printHeader(\"'\" + keyword + \"' ê²€ìƒ‰ ê²°ê³¼ (\" + type + \")\");\r\n\r\n        if(books.isEmpty()) {\r\n            System.out.println(\"\\nâš  ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤\");\r\n            pause(scanner);\r\n            return;\r\n        }\r\n\r\n        // ì •ë ¬ ì˜µì…˜ í‘œì‹œ\r\n        System.out.println(\"\\n[ì •ë ¬ ì˜µì…˜]\");\r\n        List<String> sortOptions = new ArrayList<>(Arrays.asList(\r\n            \"1. ê°€ê²© ë‚®ì€ ìˆœ\", \r\n            \"2. ê°€ê²© ë†’ì€ ìˆœ\", \r\n            \"3. ì¶œíŒì¼ ìµœì‹ ìˆœ\"\r\n        ));\r\n        \r\n        if(type.equals(\"ë² ìŠ¤íŠ¸ì…€ëŸ¬\")) {\r\n            sortOptions.add(\"4. ë¦¬ë·° ìˆœìœ„ ìˆœ\");\r\n        }\r\n        sortOptions.add(\"0. ê¸°ë³¸ ì •ë ¬(ê°€ë‚˜ë‹¤ìˆœ)\");\r\n        printMenu(sortOptions);\r\n\r\n        int sortChoice = getValidNumber(scanner, 0, sortOptions.size());\r\n        sortBooks(books, sortChoice, type);\r\n\r\n        displayBooks(books);\r\n        handleBookSelection(books, scanner);\r\n    }\r\n\r\n    private static void sortBooks(List<Book> books, int sortChoice, String type) {\r\n        switch(sortChoice) {\r\n            case 1:\r\n                books.sort(Comparator.comparingInt(Book::getPrice));\r\n                break;\r\n            case 2:\r\n                books.sort((b1, b2) -> b2.getPrice() - b1.getPrice());\r\n                break;\r\n            case 3:\r\n                books.sort((b1, b2) -> b2.publicationDate.compareTo(b1.publicationDate));\r\n                break;\r\n            case 4:\r\n                if(type.equals(\"ë² ìŠ¤íŠ¸ì…€ëŸ¬\")) {\r\n                    books.sort(Comparator.comparingInt(b -> b.reviewRank));\r\n                }\r\n                break;\r\n            default:\r\n                books.sort(Comparator.comparing(b -> b.title));\r\n        }\r\n    }\r\n\r\n    private static void displayBooks(List<Book> books) {\r\n        int index = 1;\r\n        for(Book book : books) {\r\n            System.out.printf(\"\\n%d. %s\\n\", index++, book.title);\r\n            System.out.printf(\"â”œâ”€ ID: %s\\n\", book.id);\r\n            System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", book.author);\r\n            System.out.printf(\"â”œâ”€ ê°€ê²©: %,dì›\\n\", book.getPrice());\r\n            System.out.printf(\"â”œâ”€ ìƒíƒœ: %s\\n\", getConditionText(book.condition));\r\n            System.out.printf(\"â”œâ”€ ì¶œíŒì¼: %s\\n\", book.publicationDate);\r\n            if(book.reviewRank != null) {\r\n                System.out.printf(\"â””â”€ ë¦¬ë·° ìˆœìœ„: %dìœ„\\n\", book.reviewRank);\r\n            }\r\n            System.out.println(SUB_BORDER);\r\n        }\r\n    }\r\n\r\n    private static String getConditionText(String condition) {\r\n        return switch(condition) {\r\n            case \"new\" -> \"ì‹ ìƒí’ˆ\";\r\n            case \"ìƒ\" -> \"ì¤‘ê³ -ìƒ\";\r\n            case \"ì¤‘\" -> \"ì¤‘ê³ -ì¤‘\";\r\n            case \"í•˜\" -> \"ì¤‘ê³ -í•˜\";\r\n            default -> \"ì•Œ ìˆ˜ ì—†ìŒ\";\r\n        };\r\n    }\r\n\r\n    private static void handleBookSelection(List<Book> books, Scanner scanner) {\r\n        System.out.print(\"\\nâ–¶ ìƒì„¸ë³´ê¸° í•  ë„ì„œ ë²ˆí˜¸ (0: ë’¤ë¡œê°€ê¸°): \");\r\n        int choice = getValidNumber(scanner, 0, books.size());\r\n        \r\n        if(choice != 0) {\r\n            Book selected = books.get(choice-1);\r\n            showBookDetail(selected, scanner);\r\n        }\r\n    }\r\n\r\n    private static void showBookDetail(Book book, Scanner scanner) {\r\n        clearScreen();\r\n        printHeader(\"[ìƒì„¸ ì •ë³´] \" + book.title);\r\n        System.out.printf(\"â”œâ”€ ISBN: %s\\n\", book.id);\r\n        System.out.printf(\"â”œâ”€ ì €ì: %s\\n\", book.author);\r\n        System.out.printf(\"â”œâ”€ ì •ê°€: %,dì›\\n\", book.basePrice);\r\n        System.out.printf(\"â”œâ”€ íŒë§¤ê°€: %,dì›\\n\", book.getPrice());\r\n        System.out.printf(\"â”œâ”€ ìƒíƒœ: %s\\n\", getConditionText(book.condition));\r\n        System.out.printf(\"â”œâ”€ ì¶œíŒì¼: %s\\n\", book.publicationDate);\r\n        if(book.reviewRank != null) {\r\n            System.out.printf(\"â”œâ”€ ë¦¬ë·° ìˆœìœ„: %dìœ„\\n\", book.reviewRank);\r\n        }\r\n        System.out.println(SUB_BORDER);\r\n\r\n        printMenu(new String[]{\r\n            \"1. ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€\", \r\n            \"2. ë°”ë¡œêµ¬ë§¤\", \r\n            \"0. ëŒì•„ê°€ê¸°\"\r\n        });\r\n        \r\n        handlePurchaseChoice(book, scanner);\r\n    }\r\n\r\n    private static void handlePurchaseChoice(Book book, Scanner scanner) {\r\n        int choice = getValidNumber(scanner, 0, 2);\r\n        switch(choice) {\r\n            case 1:\r\n                handleAddToCart(book, scanner);\r\n                break;\r\n            case 2:\r\n                processPurchase(book, scanner);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private static void handleAddToCart(Book book, Scanner scanner) {\r\n        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n        int quantity = getValidNumber(scanner, 1, 10);\r\n        MockCartDB.addItem(book, quantity);\r\n        System.out.printf(\"\\nâœ… %s %dê¶Œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!\\n\", book.title, quantity);\r\n        pause(scanner);\r\n    }\r\n\r\n    private static void processPurchase(Book book, Scanner scanner) {\r\n        System.out.print(\"\\nâ–¶ ìˆ˜ëŸ‰ ì…ë ¥: \");\r\n        int quantity = getValidNumber(scanner, 1, 10);\r\n        \r\n        System.out.println(\"\\n================ ê²°ì œ ì •ë³´ ================\");\r\n        System.out.printf(\"ë„ì„œëª…: %s\\n\", book.title);\r\n        System.out.printf(\"ìˆ˜ëŸ‰: %dê¶Œ\\n\", quantity);\r\n        System.out.printf(\"ê²°ì œê¸ˆì•¡: %,dì›\\n\", book.getPrice() * quantity);\r\n        System.out.println(\"-----------------------------------------\");\r\n        System.out.println(\"1. ì‹ ìš©ì¹´ë“œ ê²°ì œ | 2. ê³„ì¢Œì´ì²´ | 0. ì·¨ì†Œ\");\r\n        \r\n        int paymentType = getValidNumber(scanner, 0, 2);\r\n        if(paymentType != 0) {\r\n            System.out.println(\"âœ… ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\");\r\n            MockDB.removeBook(book.id);\r\n            System.out.println(\"ğŸ“Š \" + getRandomMessage(PURCHASE_MESSAGES));\r\n        }\r\n        pause(scanner);\r\n    }\r\n\r\n    // ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ\r\n    private static void cartFlow(Scanner scanner) {\r\n        while(true) {\r\n            clearScreen();\r\n            printHeader(\"ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬\");\r\n            List<CartItem> cart = MockCartDB.getCart();\r\n            \r\n            if(cart.isEmpty()) {\r\n                System.out.println(\"\\nğŸ›’ ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤\");\r\n                pause(scanner);\r\n                return;\r\n            }\r\n\r\n            cart.forEach(item -> {\r\n                System.out.printf(\"\\nğŸ“˜ %s\\n\", item.book.title);\r\n                System.out.printf(\"â”œâ”€ ìˆ˜ëŸ‰: %dê°œ\\n\", item.quantity);\r\n                System.out.printf(\"â”œâ”€ ë‹¨ê°€: %,dì›\\n\", item.book.getPrice());\r\n                System.out.printf(\"â””â”€ ì†Œê³„: %,dì›\\n\", item.getTotalPrice());\r\n                System.out.println(SUB_BORDER);\r\n            });\r\n\r\n            printMenu(new String[]{\r\n                \"1. ì „ì²´ êµ¬ë§¤\", \r\n                \"2. ìˆ˜ëŸ‰ ë³€ê²½\", \r\n                \"3. ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°\",\r\n                \"0. ë’¤ë¡œê°€ê¸°\"\r\n            });\r\n            \r\n            handleCartAction(scanner);\r\n        }\r\n    }\r\n\r\n    private static void handleCartAction(Scanner scanner) {\r\n        int choice = getValidNumber(scanner, 0, 3);\r\n        switch(choice) {\r\n            case 1:\r\n                processBulkPurchase(scanner);\r\n                break;\r\n            case 2:\r\n                modifyQuantity(scanner);\r\n                break;\r\n            case 3:\r\n                MockCartDB.clearCart();\r\n                System.out.println(\"\\nâœ… ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì› ìŠµë‹ˆë‹¤\");\r\n                pause(scanner);\r\n                break;\r\n            case 0:\r\n                return;\r\n        }\r\n    }\r\n\r\n    // ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë“¤ (ì•ì„  ì½”ë“œì™€ ë™ì¼)\r\n    // ...// í—¤ë” ì¶œë ¥\r\n    private static void printHeader(String title) {\r\n        System.out.println(\"====================\" + \"=\".repeat(title.length()*2));\r\n        System.out.println(\"= \" + title + \" =\");\r\n        System.out.println(\"====================\" + \"=\".repeat(title.length()*2));\r\n    }\r\n\r\n    // ë©”ë‰´ ì¶œë ¥\r\n    private static void printMenu(String[] items) {\r\n        System.out.println(\"\\n---------------------\");\r\n        for (int i = 0; i < items.length; i++) {\r\n            System.out.printf(\"%2d. %s\\n\", i+1, items[i]);\r\n        }\r\n        System.out.println(\"---------------------\");\r\n    }\r\n\r\n    // í™”ë©´ í´ë¦¬ì–´\r\n    private static void clearScreen() {\r\n        for (int i = 0; i < 50; i++) {\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    // ì¼ì‹œ ì •ì§€\r\n    private static void pause(Scanner scanner) {\r\n        System.out.print(\"\\nê³„ì†í•˜ë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”...\");\r\n        scanner.nextLine();\r\n    }\r\n\r\n    // ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥\r\n    private static void errorMsg(String message) {\r\n        System.out.println(\"\\n[!] \" + message);\r\n    }\r\n\r\n    // ì‹œìŠ¤í…œ ì¢…ë£Œ\r\n    private static void exit(Scanner scanner) {\r\n        System.out.println(\"\\nì‹œìŠ¤í…œì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\");\r\n        scanner.close();\r\n        System.exit(0);\r\n    }\r\n\r\n    // ê²€ìƒ‰ íƒ€ì… ë³€í™˜\r\n    private static String getSearchType(int typeCode) {\r\n        return switch (typeCode) {\r\n            case 1 -> \"ë² ìŠ¤íŠ¸ì…€ëŸ¬\";\r\n            case 2 -> \"ì‹ ê°„\";\r\n            case 3 -> \"ì „ì²´\";\r\n            default -> \"\";\r\n        };\r\n}\r\n\r\n// ì˜ˆì™¸ ì²˜ë¦¬ í•¸ë“¤ëŸ¬\r\nprivate static void errorHandler(Exception e) {\r\n    System.out.println(\"\\n[ì‹œìŠ¤í…œ ì˜¤ë¥˜] \" + e.getMessage());\r\n    System.out.println(\"ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\r\n}\r\n\r\n}\r\n"
        }
    ]
}